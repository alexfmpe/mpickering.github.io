

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>4. Release notes for version 8.6.1 &#8212; Glasgow Haskell Compiler 8.7.20180808 User&#39;s Guide</title>
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Glasgow Haskell Compiler 8.7.20180808 User&#39;s Guide"
          href="_static/opensearch.xml"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Using GHCi" href="ghci.html" />
    <link rel="prev" title="3. Release notes for version 8.4.2" href="8.4.2-notes.html" /> 
  </head><body>
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler User's Guide</a></h1>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ghci.html" title="5. Using GHCi"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="8.4.2-notes.html" title="3. Release notes for version 8.4.2"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 8.7.20180808 User&#39;s Guide</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Release notes for version 8.6.1</a><ul>
<li><a class="reference internal" href="#highlights">4.1. Highlights</a></li>
<li><a class="reference internal" href="#full-details">4.2. Full details</a><ul>
<li><a class="reference internal" href="#language">4.2.1. Language</a></li>
<li><a class="reference internal" href="#compiler">4.2.2. Compiler</a></li>
<li><a class="reference internal" href="#plugins">4.2.3. Plugins</a></li>
<li><a class="reference internal" href="#ghci">4.2.4. GHCi</a></li>
<li><a class="reference internal" href="#runtime-system">4.2.5. Runtime system</a></li>
<li><a class="reference internal" href="#template-haskell">4.2.6. Template Haskell</a></li>
<li><a class="reference internal" href="#ghc-library">4.2.7. <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</a></li>
<li><a class="reference internal" href="#base-library">4.2.8. <code class="docutils literal notranslate"><span class="pre">base</span></code> library</a></li>
<li><a class="reference internal" href="#ghc-prim-library">4.2.9. <code class="docutils literal notranslate"><span class="pre">ghc-prim</span></code> library</a></li>
<li><a class="reference internal" href="#build-system">4.2.10. Build system</a></li>
</ul>
</li>
<li><a class="reference internal" href="#included-libraries">4.3. Included libraries</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="8.4.2-notes.html"
                        title="previous chapter">3. Release notes for version 8.4.2</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ghci.html"
                        title="next chapter">5. Using GHCi</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/8.6.1-notes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="release-notes-for-version-8-6-1">
<span id="release-8-6-1"></span><h1>4. Release notes for version 8.6.1<a class="headerlink" href="#release-notes-for-version-8-6-1" title="Permalink to this headline">¶</a></h1>
<p>The significant changes to the various parts of the compiler are listed in the
following sections. There have also been numerous bug fixes and performance
improvements over the 8.4.1 release.</p>
<div class="section" id="highlights">
<h2>4.1. Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h2>
<p>The highlights, since the 8.4.1 release, are:</p>
<ul class="simple">
<li>Programs are no longer constrained by the Windows <code class="docutils literal notranslate"><span class="pre">MAX_PATH</span></code> file path
length limit. The file path limit is now approximately 32,767 characters. Note
that GHC itself is still somewhat limited due to GCC not supporting file
namespaced paths. Paths that are passed directly to the compiler, linker or
other GNU tools are currently still constrained. See <a class="reference internal" href="win32-dlls.html#windows-file-paths"><span class="std std-ref">File paths under Windows</span></a>
for details.</li>
<li>Many, many bug fixes.</li>
</ul>
</div>
<div class="section" id="full-details">
<h2>4.2. Full details<a class="headerlink" href="#full-details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="language">
<h3>4.2.1. Language<a class="headerlink" href="#language" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Use of quantified type variables in constraints is now allowed via the
<a class="reference internal" href="glasgow_exts.html#extension-QuantifiedConstraints"><code class="xref std std-extension docutils literal notranslate"><span class="pre">QuantifiedConstraints</span></code></a> language extension. This long-awaited feature
enables users to encode significantly more precision in their types. For instance,
the common <code class="docutils literal notranslate"><span class="pre">MonadTrans</span></code> typeclass could now make the expectation that an
applied transformer is must be a <code class="docutils literal notranslate"><span class="pre">Monad</span></code></p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="p">(</span><span class="n">forall</span> <span class="n">a</span><span class="o">.</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="ow">=&gt;</span> <span class="kt">Monad</span> <span class="p">(</span><span class="n">t</span> <span class="n">m</span><span class="p">))</span> <span class="ow">=&gt;</span> <span class="kt">MonadTrans</span> <span class="n">t</span> <span class="kr">where</span> <span class="cm">{- ... -}</span>
</pre></div>
</div>
<p>Additionally, quantification can enable terminating instance resolution
where this previously was not possible. See <a class="reference internal" href="glasgow_exts.html#quantified-constraints"><span class="std std-ref">Quantified constraints</span></a> for
details.</p>
</li>
<li><p class="first">A new <a class="reference internal" href="glasgow_exts.html#extension-DerivingVia"><code class="xref std std-extension docutils literal notranslate"><span class="pre">DerivingVia</span></code></a> language extension has been added which allows
the use of the <code class="docutils literal notranslate"><span class="pre">via</span></code> deriving strategy. For instance:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">newtype</span> <span class="kt">T</span> <span class="ow">=</span> <span class="kt">MkT</span> <span class="kt">Int</span>
  <span class="kr">deriving</span> <span class="kt">Monoid</span> <span class="n">via</span> <span class="p">(</span><span class="kt">Sum</span> <span class="kt">Int</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="glasgow_exts.html#deriving-via"><span class="std std-ref">Deriving via</span></a> for more information.</p>
</li>
<li><p class="first">A new <a class="reference internal" href="glasgow_exts.html#extension-StarIsType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">StarIsType</span></code></a> language extension has been added which controls
whether <code class="docutils literal notranslate"><span class="pre">*</span></code> is parsed as <code class="docutils literal notranslate"><span class="pre">Data.Kind.Type</span></code> or a regular type operator.
<a class="reference internal" href="glasgow_exts.html#extension-StarIsType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">StarIsType</span></code></a> is enabled by default.</p>
</li>
<li><p class="first">GHC now permits the use of a wildcard type as the context of a standalone
<code class="docutils literal notranslate"><span class="pre">deriving</span></code> declaration with the use of the
<a class="reference internal" href="glasgow_exts.html#extension-PartialTypeSignatures"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PartialTypeSignatures</span></code></a> language extension. For instance, this
declaration:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">deriving</span> <span class="kr">instance</span> <span class="kr">_</span> <span class="ow">=&gt;</span> <span class="kt">Eq</span> <span class="p">(</span><span class="kt">Foo</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>Denotes a derived <code class="docutils literal notranslate"><span class="pre">Eq</span> <span class="pre">(Foo</span> <span class="pre">a)</span></code> instance, where the context is inferred in
much the same way as ordinary <code class="docutils literal notranslate"><span class="pre">deriving</span></code> clauses do.
See <a class="reference internal" href="glasgow_exts.html#partial-type-signatures"><span class="std std-ref">Partial Type Signatures</span></a>.</p>
</li>
<li><p class="first">Data declarations with empty <code class="docutils literal notranslate"><span class="pre">where</span></code> clauses are no longer valid without the
extension <a class="reference internal" href="glasgow_exts.html#extension-GADTSyntax"><code class="xref std std-extension docutils literal notranslate"><span class="pre">GADTSyntax</span></code></a> enabled. For instance, consider the
following,</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">T</span> <span class="kr">where</span>
</pre></div>
</div>
<p>The grammar is invalid in Haskell2010. Previously it could be compiled successfully
without <code class="docutils literal notranslate"><span class="pre">GADTs</span></code>. As of GHC 8.6.1, this is a parse error.</p>
</li>
<li><p class="first">Incomplete patterns warning <a class="reference internal" href="using-warnings.html#ghc-flag--Wincomplete-patterns"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-Wincomplete-patterns</span></code></a> is extended to
guards in pattern bindings and <code class="docutils literal notranslate"><span class="pre">if</span></code> alternatives of <a class="reference internal" href="glasgow_exts.html#extension-MultiWayIf"><code class="xref std std-extension docutils literal notranslate"><span class="pre">MultiWayIf</span></code></a>.
For instance, consider the following,</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">foo</span> <span class="ow">::</span> <span class="kt">Bool</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">foo</span> <span class="n">b</span> <span class="ow">=</span> <span class="kr">if</span> <span class="o">|</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="mi">1</span>
</pre></div>
</div>
<p>In GHC 8.6.1, it will raise the warning:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">interactive</span><span class="o">&gt;:</span><span class="mi">2</span><span class="kt">:</span><span class="mi">12</span><span class="kt">:</span> <span class="n">warning</span><span class="kt">:</span> <span class="p">[</span><span class="o">-</span><span class="kt">Wincomplete</span><span class="o">-</span><span class="n">patterns</span><span class="p">]</span>
    <span class="kt">Pattern</span> <span class="n">match</span><span class="p">(</span><span class="n">es</span><span class="p">)</span> <span class="n">are</span> <span class="n">non</span><span class="o">-</span><span class="n">exhaustive</span>
    <span class="kt">In</span> <span class="n">a</span> <span class="n">multi</span><span class="o">-</span><span class="n">way</span> <span class="kr">if</span> <span class="n">alternative</span><span class="kt">:</span>
        <span class="kt">Guards</span> <span class="kr">do</span> <span class="n">not</span> <span class="n">cover</span> <span class="n">entire</span> <span class="n">pattern</span> <span class="n">space</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/14773">Trac #14773</a>.</p>
</li>
<li><p class="first">Scoped type variables now work in default methods of class declarations
and in pattern synonyms in Template Haskell. See <a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/14885">Trac #14885</a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">do</span></code> expressions, lambda expressions, etc. to be directly used as
a function argument, enabled with <a class="reference internal" href="glasgow_exts.html#extension-BlockArguments"><code class="xref std std-extension docutils literal notranslate"><span class="pre">BlockArguments</span></code></a>.
See <a class="reference internal" href="glasgow_exts.html#block-arguments"><span class="std std-ref">More liberal syntax for function arguments</span></a>
for the full details.</p>
</li>
<li><p class="first">Underscores in numeric literals (e.g. <code class="docutils literal notranslate"><span class="pre">1_000_000</span></code>), enabled with
<a class="reference internal" href="glasgow_exts.html#extension-NumericUnderscores"><code class="xref std std-extension docutils literal notranslate"><span class="pre">NumericUnderscores</span></code></a>.
See <a class="reference internal" href="glasgow_exts.html#numeric-underscores"><span class="std std-ref">Numeric underscores</span></a>
for the full details.</p>
</li>
<li><p class="first">CUSKs now require all kind variables to be explicitly quantified. This was
already the case with <a class="reference internal" href="glasgow_exts.html#extension-TypeInType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">TypeInType</span></code></a>, but now <a class="reference internal" href="glasgow_exts.html#extension-PolyKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PolyKinds</span></code></a>
also exhibits this behavior. This means that the following example is no
longer considered to have a CUSK:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">T1</span> <span class="ow">::</span> <span class="n">k</span> <span class="ow">-&gt;</span> <span class="kt">Type</span>       <span class="c1">-- No CUSK: `k` is not explicitly quantified</span>
</pre></div>
</div>
</li>
<li><p class="first">Functionality of <a class="reference internal" href="glasgow_exts.html#extension-TypeInType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">TypeInType</span></code></a> has been subsumed by
<a class="reference internal" href="glasgow_exts.html#extension-PolyKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PolyKinds</span></code></a>, and it is now merely a shorthand for
<a class="reference internal" href="glasgow_exts.html#extension-PolyKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PolyKinds</span></code></a>, <a class="reference internal" href="glasgow_exts.html#extension-DataKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">DataKinds</span></code></a>, and <a class="reference internal" href="glasgow_exts.html#extension-StarIsType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">NoStarIsType</span></code></a>.
The users are advised to avoid <a class="reference internal" href="glasgow_exts.html#extension-TypeInType"><code class="xref std std-extension docutils literal notranslate"><span class="pre">TypeInType</span></code></a> due to its misleading
name: the <code class="docutils literal notranslate"><span class="pre">Type</span> <span class="pre">::</span> <span class="pre">Type</span></code> axiom holds regardless of whether it is enabled.</p>
</li>
<li><p class="first">GHC has become more diligent about catching illegal uses of kind polymorphism.
For instance, GHC 8.4 would accept the following without the use of
<a class="reference internal" href="glasgow_exts.html#extension-PolyKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PolyKinds</span></code></a>:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">f</span> <span class="ow">::</span> <span class="n">forall</span> <span class="n">k</span> <span class="p">(</span><span class="n">a</span> <span class="ow">::</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span> <span class="kt">Proxy</span> <span class="n">a</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kt">Proxy</span>
</pre></div>
</div>
<p>This is now an error unless <a class="reference internal" href="glasgow_exts.html#extension-PolyKinds"><code class="xref std std-extension docutils literal notranslate"><span class="pre">PolyKinds</span></code></a> is enabled.</p>
</li>
<li><p class="first">The plugin mechanism has been extended to allow plugins to run between frontend
phases. Of particular note are the parser and typechecker plugins which run
after parsing and typechecking have completed. Collectively, these new extension
points are called <a class="reference internal" href="extending_ghc.html#source-plugins"><span class="std std-ref">source plugins</span></a>.</p>
</li>
<li><p class="first">Type literals now could be used in type class instances without the extension
<a class="reference internal" href="glasgow_exts.html#extension-FlexibleInstances"><code class="xref std std-extension docutils literal notranslate"><span class="pre">FlexibleInstances</span></code></a>.</p>
<p>See <a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/13833">Trac #13833</a>.</p>
</li>
</ul>
</div>
<div class="section" id="compiler">
<h3>4.2.2. Compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>GHC now no longer adds the current file’s directory as a general include path
calling the C compiler. Instead we use <code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-iquote</span></code> to only add it as
an include path for <cite>#include “”</cite>. See <a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/14312">Trac #14312</a>.</li>
<li>GHC now supports British spelling of <a class="reference internal" href="glasgow_exts.html#extension-GeneralizedNewtypeDeriving"><code class="xref std std-extension docutils literal notranslate"><span class="pre">GeneralizedNewtypeDeriving</span></code></a>.</li>
<li>GHC now does significantly more constant folding in its core-to-core optimiser.
This will result in significantly better code being generated for some
programs. See <a class="reference external" href="https://ghc.haskell.org/trac/ghc/ticket/9136">Trac #9136</a>.</li>
<li>GHC now offers significantly more information about typed holes such as valid
hole fits and refinement hole fits. See <a class="reference internal" href="glasgow_exts.html#typed-hole-valid-hole-fits"><span class="std std-ref">Valid Hole Fits</span></a>
for more information.</li>
<li>The code-generation effects of <a class="reference internal" href="phases.html#ghc-flag--dynamic"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-dynamic</span></code></a> can now be
enabled independently by the flag
<a class="reference internal" href="phases.html#ghc-flag--fexternal-dynamic-refs"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fexternal-dynamic-refs</span></code></a>. If you don’t know why you might
need this, you don’t need it.</li>
<li><a class="reference internal" href="using-warnings.html#ghc-flag--Wcompat"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-Wcompat</span></code></a> now includes <a class="reference internal" href="using-warnings.html#ghc-flag--Wimplicit-kind-vars"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-Wimplicit-kind-vars</span></code></a> to
provide early detection of breakage that will be caused by implementation of
<a class="reference external" href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0024-no-kind-vars.rst">GHC proposal #24</a>
in a future release.</li>
</ul>
</div>
<div class="section" id="plugins">
<h3>4.2.3. Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">GHC’s plugin mechanism now offers plugin authors control over their plugin’s
effect on recompilation checking. Specifically the <code class="docutils literal notranslate"><span class="pre">Plugin</span></code> record name has
a new field</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Plugin</span> <span class="ow">=</span> <span class="kt">Plugin</span> <span class="p">{</span>
    <span class="n">pluginRecompile</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">CommandLineOption</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">IO</span> <span class="kt">PluginRecompile</span>
  <span class="p">,</span> <span class="cm">{- ... -}</span>
  <span class="p">}</span>

<span class="kr">data</span> <span class="kt">PluginRecompile</span> <span class="ow">=</span> <span class="kt">ForceRecompile</span> <span class="o">|</span> <span class="kt">NoForceRecompile</span> <span class="o">|</span> <span class="kt">MaybeRecompile</span> <span class="kt">Fingerprint</span>
</pre></div>
</div>
<p>Plugin based on <code class="docutils literal notranslate"><span class="pre">defaultPlugin</span></code> will have their previous recompilation
behavior (<code class="docutils literal notranslate"><span class="pre">ForceRecompile</span></code>) preserved. However, plugins that are “pure” are
encouraged to override this to either <code class="docutils literal notranslate"><span class="pre">NoForceRecompile</span></code> or <code class="docutils literal notranslate"><span class="pre">MaybeRecompile</span></code>.
See <a class="reference internal" href="extending_ghc.html#plugin-recompilation"><span class="std std-ref">Controlling Recompilation</span></a> for details.</p>
</li>
<li><p class="first">GHC now provides a class of new plugins: source plugins. These plugins can
inspect and modify a variety of intermediate representations used by the
compiler’s frontend. These include:</p>
<blockquote>
<div><ul class="simple">
<li>The ability to modify the parser output</li>
<li>The ability to inspect the renamer output</li>
<li>The ability to modify the typechecked AST</li>
<li>The ability to modify Template Haskell splices</li>
<li>The ability to modify interface files as they are loaded</li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="extending_ghc.html#source-plugins"><span class="std std-ref">Source plugins</span></a> for details.</p>
</li>
</ul>
</div>
<div class="section" id="ghci">
<h3>4.2.4. GHCi<a class="headerlink" href="#ghci" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added an experimental <a class="reference internal" href="ghci.html#ghci-cmd-:doc"><code class="xref std std-ghci-cmd docutils literal notranslate"><span class="pre">:doc</span></code></a> command that displays the
documentation for a declaration.</li>
</ul>
</div>
<div class="section" id="runtime-system">
<h3>4.2.5. Runtime system<a class="headerlink" href="#runtime-system" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The GHC runtime linker now prefers user shared libraries above system ones.
When extra search directories are specified these are searched before anything
else. This fixes <code class="docutils literal notranslate"><span class="pre">iuuc</span></code> on Windows given the proper search directories (e.g
<code class="docutils literal notranslate"><span class="pre">-L/mingw64/lib</span></code>).</li>
<li>The GHC runtime linker now uses <code class="docutils literal notranslate"><span class="pre">LIBRARY_PATH</span></code> and the runtime loader now also
searches <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code>.</li>
<li>The GHC runtime on Windows is no longer constrained by the <code class="docutils literal notranslate"><span class="pre">MAX_PATH</span></code> file path
length limitation. See <a class="reference internal" href="win32-dlls.html#windows-file-paths"><span class="std std-ref">File paths under Windows</span></a>.</li>
<li>The runtime now allows use of the <a class="reference internal" href="runtime_control.html#rts-flag--hT"><code class="xref std std-rts-flag docutils literal notranslate"><span class="pre">-hT</span></code></a> profiling variety on
programs built with <a class="reference internal" href="profiling.html#ghc-flag--prof"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-prof</span></code></a>.</li>
<li>The STM assertions mechanism (namely the <code class="docutils literal notranslate"><span class="pre">always</span></code> and <code class="docutils literal notranslate"><span class="pre">alwaysSucceeds</span></code>
functions) has been removed. This happened a bit earlier than proposed in the
deprecation pragma included in GHC 8.4, but due to community feedback we
decided to move ahead with the early removal.</li>
</ul>
</div>
<div class="section" id="template-haskell">
<h3>4.2.6. Template Haskell<a class="headerlink" href="#template-haskell" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="ghc-library">
<h3>4.2.7. <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library<a class="headerlink" href="#ghc-library" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="base-library">
<h3>4.2.8. <code class="docutils literal notranslate"><span class="pre">base</span></code> library<a class="headerlink" href="#base-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">($!)</span></code> is now representation-polymorphic like <code class="docutils literal notranslate"><span class="pre">($)</span></code>.</li>
<li>The module <code class="docutils literal notranslate"><span class="pre">Data.Functor.Contravariant</span></code> has been moved from the
<code class="docutils literal notranslate"><span class="pre">contravariant</span></code> package into <code class="docutils literal notranslate"><span class="pre">base</span></code>. All the other modules in
<code class="docutils literal notranslate"><span class="pre">contravariant</span></code> (<code class="docutils literal notranslate"><span class="pre">Data.Functor.Contravariant.Divisible</span></code>, etc.)
have not been moved to <code class="docutils literal notranslate"><span class="pre">base</span></code>, and they still reside in <code class="docutils literal notranslate"><span class="pre">contravariant</span></code>.</li>
</ul>
</div>
<div class="section" id="ghc-prim-library">
<h3>4.2.9. <code class="docutils literal notranslate"><span class="pre">ghc-prim</span></code> library<a class="headerlink" href="#ghc-prim-library" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number 0.5.2.1 (was 0.5.2.0)</li>
<li>Added new <code class="docutils literal notranslate"><span class="pre">addWordC#</span></code> operation for unsigned addition with carry.</li>
</ul>
</div>
<div class="section" id="build-system">
<h3>4.2.10. Build system<a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="included-libraries">
<h2>4.3. Included libraries<a class="headerlink" href="#included-libraries" title="Permalink to this headline">¶</a></h2>
<p>The package database provided with this distribution also contains a number of
packages other than GHC itself. See the changelogs provided with these packages
for further change information.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><span class="first last">Package</span></th>
<th class="head"><span class="first last">Version</span></th>
<th class="head"><span class="first last">Reason for inclusion</span></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ghc</td>
<td><span class="first last">8.7</span></td>
<td>The compiler itself</td>
</tr>
<tr class="row-odd"><td>Cabal</td>
<td><span class="first last">2.4.0.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc-pkg</span></code> utility</td>
</tr>
<tr class="row-even"><td>Win32</td>
<td><span class="first last">2.6.1.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>array</td>
<td><span class="first last">0.5.2.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>base</td>
<td><span class="first last">4.12.0.0</span></td>
<td>Core library</td>
</tr>
<tr class="row-odd"><td>binary</td>
<td><span class="first last">0.10.0.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>bytestring</td>
<td><span class="first last">0.10.8.2</span></td>
<td>Deppendency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>containers</td>
<td><span class="first last">0.6.0.1</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>deepseq</td>
<td><span class="first last">1.4.4.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>directory</td>
<td><span class="first last">1.3.3.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>filepath</td>
<td><span class="first last">1.4.2.1</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>ghc-boot</td>
<td><span class="first last">8.7</span></td>
<td>Internal compiler library</td>
</tr>
<tr class="row-even"><td>ghc-compact</td>
<td><span class="first last">0.1.0.0</span></td>
<td>Core library</td>
</tr>
<tr class="row-odd"><td>ghc-prim</td>
<td><span class="first last">0.5.3</span></td>
<td>Core library</td>
</tr>
<tr class="row-even"><td>ghci</td>
<td><span class="first last">8.7</span></td>
<td>The REPL interface</td>
</tr>
<tr class="row-odd"><td>haskeline</td>
<td><span class="first last">0.7.4.3</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghci</span></code> executable</td>
</tr>
<tr class="row-even"><td>hpc</td>
<td><span class="first last">0.6.0.3</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">hpc</span></code> executable</td>
</tr>
<tr class="row-odd"><td>integer-gmp</td>
<td><span class="first last">1.0.2.0</span></td>
<td>Core library</td>
</tr>
<tr class="row-even"><td>mtl</td>
<td><span class="first last">2.2.2</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">Cabal</span></code> library</td>
</tr>
<tr class="row-odd"><td>parsec</td>
<td><span class="first last">3.1.13.0.0.0.0.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">Cabal</span></code> library</td>
</tr>
<tr class="row-even"><td>process</td>
<td><span class="first last">1.6.3.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>template-haskell</td>
<td><span class="first last">2.14.0.0</span></td>
<td>Core library</td>
</tr>
<tr class="row-even"><td>text</td>
<td><span class="first last">1.2.3.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">Cabal</span></code> library</td>
</tr>
<tr class="row-odd"><td>time</td>
<td><span class="first last">1.8.0.2</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>transformers</td>
<td><span class="first last">0.5.5.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-odd"><td>unix</td>
<td><span class="first last">2.8.0.0</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">ghc</span></code> library</td>
</tr>
<tr class="row-even"><td>xhtml</td>
<td><span class="first last">3000.2.2.1</span></td>
<td>Dependency of <code class="docutils literal notranslate"><span class="pre">haddock</span></code> executable</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ghci.html" title="5. Using GHCi"
             >next</a> |</li>
        <li class="right" >
          <a href="8.4.2-notes.html" title="3. Release notes for version 8.4.2"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 8.7.20180808 User&#39;s Guide</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 1970, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>