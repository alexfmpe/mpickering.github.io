
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6.2. Warnings and sanity-checking &mdash; Glasgow Haskell Compiler &lt;release&gt; Users Guide</title>
    
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.11.20151211',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Glasgow Haskell Compiler &lt;release&gt; Users Guide" href="index.html" />
    <link rel="up" title="6. Using GHC" href="usage.html" />
    <link rel="next" title="6.3. Optimisation (code improvement)" href="using-optimisation.html" />
    <link rel="prev" title="6.1. Using GHC" href="using.html" /> 
  </head>
  <body role="document">
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler Users Guide</a></h1>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="using-optimisation.html" title="6.3. Optimisation (code improvement)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="using.html" title="6.1. Using GHC"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 7.11.20151211 Users Guide</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="usage.html" accesskey="U">6. Using GHC</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="using.html"
                        title="previous chapter">6.1. Using GHC</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="using-optimisation.html"
                        title="next chapter">6.3. Optimisation (code improvement)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/using-warnings.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="warnings-and-sanity-checking">
<span id="options-sanity"></span><h1>6.2. Warnings and sanity-checking<a class="headerlink" href="#warnings-and-sanity-checking" title="Permalink to this headline">¶</a></h1>
<p id="index-0">GHC has a number of options that select which types of non-fatal error
messages, otherwise known as warnings, can be generated during
compilation. By default, you get a standard set of warnings which are
generally likely to indicate bugs in your program. These are:
<code class="docutils literal"><span class="pre">-fwarn-overlapping-patterns</span></code>, <code class="docutils literal"><span class="pre">-fwarn-warnings-deprecations</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-deprecated-flags</span></code>, <code class="docutils literal"><span class="pre">-fwarn-unrecognised-pragmas</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-missed-specialisations</span></code>, <code class="docutils literal"><span class="pre">-fwarn-duplicate-constraints</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-duplicate-exports</span></code>, <code class="docutils literal"><span class="pre">-fwarn-overflowed-literals</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-empty-enumerations</span></code>, <code class="docutils literal"><span class="pre">-fwarn-missing-fields</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-missing-methods</span></code>, <code class="docutils literal"><span class="pre">-fwarn-wrong-do-bind</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-unsupported-calling-conventions</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-dodgy-foreign-imports</span></code>, <code class="docutils literal"><span class="pre">-fwarn-inline-rule-shadowing</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-unsupported-llvm-version</span></code>, <code class="docutils literal"><span class="pre">-fwarn-context-quantification</span></code>,
and <code class="docutils literal"><span class="pre">-fwarn-tabs</span></code>. The following flags are simple ways to select
standard “packages” of warnings:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-W</span></code></dt>
<dd><p class="first last" id="index-1">Provides the standard warnings plus <code class="docutils literal"><span class="pre">-fwarn-unused-binds</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-unused-matches</span></code>, <code class="docutils literal"><span class="pre">-fwarn-unused-imports</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-incomplete-patterns</span></code>, <code class="docutils literal"><span class="pre">-fwarn-dodgy-exports</span></code>, and
<code class="docutils literal"><span class="pre">-fwarn-dodgy-imports</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-Wall</span></code></dt>
<dd><p class="first last" id="index-2">Turns on all warning options that indicate potentially suspicious
code. The warnings that are <em>not</em> enabled by <code class="docutils literal"><span class="pre">-Wall</span></code> are
<code class="docutils literal"><span class="pre">-fwarn-incomplete-uni-patterns</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-incomplete-record-updates</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-monomorphism-restriction</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-implicit-prelude</span></code>, <code class="docutils literal"><span class="pre">-fwarn-missing-local-sigs</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-missing-exported-sigs</span></code>, <code class="docutils literal"><span class="pre">-fwarn-missing-import-lists</span></code>
and <code class="docutils literal"><span class="pre">-fwarn-identities</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-Wcompat</span></code></dt>
<dd><p class="first" id="index-3">Turns on warnings that will be enabled by default in the future, but remain
off in normal compilations for the time being. This allows library authors
eager to make their code future compatible to adapt to new features before
they even generate warnings.</p>
<p class="last">This currently enables <code class="docutils literal"><span class="pre">-fwarn-missing-monadfail-instance</span></code>,
<code class="docutils literal"><span class="pre">-fwarn-semigroup</span></code>, and <code class="docutils literal"><span class="pre">-fwarn-noncanonical-monoid-instances</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-Wno-compat</span></code></dt>
<dd><p class="first last" id="index-4">Disables all warnings enabled by <code class="docutils literal"><span class="pre">-Wcompat</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-w</span></code></dt>
<dd><p class="first last" id="index-5">Turns off all warnings, including the standard ones and those that
<code class="docutils literal"><span class="pre">-Wall</span></code> doesn&#8217;t enable.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-Werror</span></code></dt>
<dd><p class="first last" id="index-6">Makes any warning into a fatal error. Useful so that you don&#8217;t miss
warnings when doing batch compilation.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-Wwarn</span></code></dt>
<dd><p class="first last" id="index-7">Warnings are treated only as warnings, not as errors. This is the
default, but can be useful to negate a <code class="docutils literal"><span class="pre">-Werror</span></code> flag.</p>
</dd>
</dl>
<p>The full set of warning options is described below. To turn off any
warning, simply give the corresponding <code class="docutils literal"><span class="pre">-fno-warn-...</span></code> option on the
command line.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-fwarn-typed-holes</span></code></dt>
<dd><p class="first" id="index-8">Determines whether the compiler reports typed holes warnings. Has no
effect unless typed holes errors are deferred until runtime. See
<a class="reference internal" href="glasgow_exts.html#typed-holes"><span>Typed Holes</span></a> and <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a></p>
<p class="last">This warning is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-type-errors</span></code></dt>
<dd><p class="first" id="index-9">Causes a warning to be reported when a type error is deferred until
runtime. See <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a></p>
<p class="last">This warning is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fdefer-type-errors</span></code></dt>
<dd><p class="first last" id="index-10">Defer as many type errors as possible until runtime. At compile time
you get a warning (instead of an error). At runtime, if you use a
value that depends on a type error, you get a runtime error; but you
can run any type-correct parts of your code just fine. See
<a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a></p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fdefer-typed-holes</span></code></dt>
<dd><p class="first" id="index-11">Defer typed holes errors until runtime. This will turn the errors
produced by <a class="reference internal" href="glasgow_exts.html#typed-holes"><span>typed holes</span></a> into warnings. Using a value
that depends on a typed hole produces a runtime error, the same as
<code class="docutils literal"><span class="pre">-fdefer-type-errors</span></code> (which implies this option). See <a class="reference internal" href="glasgow_exts.html#typed-holes"><span>Typed Holes</span></a>
and <a class="reference internal" href="glasgow_exts.html#defer-type-errors"><span>Deferring type errors to runtime</span></a>.</p>
<p class="last">Implied by <code class="docutils literal"><span class="pre">-fdefer-type-errors</span></code>. See also <code class="docutils literal"><span class="pre">-fwarn-typed-holes</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-partial-type-signatures</span></code></dt>
<dd><p class="first" id="index-12">Determines whether the compiler reports holes in partial type
signatures as warnings. Has no effect unless
<code class="docutils literal"><span class="pre">-XPartialTypeSignatures</span></code> is enabled, which controls whether
errors should be generated for holes in types or not. See
<a class="reference internal" href="glasgow_exts.html#partial-type-signatures"><span>Partial Type Signatures</span></a>.</p>
<p class="last">This warning is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fhelpful-errors</span></code></dt>
<dd><p class="first" id="index-13">When a name or package is not found in scope, make suggestions for
the name or package you might have meant instead.</p>
<p class="last">This option is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unrecognised-pragmas</span></code></dt>
<dd><p class="first" id="index-14">Causes a warning to be emitted when a pragma that GHC doesn&#8217;t
recognise is used. As well as pragmas that GHC itself uses, GHC also
recognises pragmas known to be used by other tools, e.g.
<code class="docutils literal"><span class="pre">OPTIONS_HUGS</span></code> and <code class="docutils literal"><span class="pre">DERIVE</span></code>.</p>
<p class="last">This option is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missed-specialisations</span></code>, <code class="docutils literal"><span class="pre">-fwarn-all-missed-specialisations</span></code></dt>
<dd><p class="first" id="index-15">Emits a warning if GHC cannot specialise an overloaded function, usually
because the function needs an <code class="docutils literal"><span class="pre">INLINEABLE</span></code> pragma. The &#8220;all&#8221; form reports
all such situations whereas the &#8220;non-all&#8221; form only reports when the
situation arises during specialisation of an imported function.</p>
<p>The &#8220;non-all&#8221; form is intended to catch cases where an imported function
that is marked as <code class="docutils literal"><span class="pre">INLINEABLE</span></code> (presumably to enable specialisation) cannot
be specialised as it calls other functions that are themselves not specialised.</p>
<p class="last">These options are both off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-warnings-deprecations</span></code></dt>
<dd><p class="first" id="index-16">Causes a warning to be emitted when a module, function or type with
a <code class="docutils literal"><span class="pre">WARNING</span></code> or <code class="docutils literal"><span class="pre">DEPRECATED</span> <span class="pre">pragma</span></code> is used. See
<a class="reference internal" href="glasgow_exts.html#warning-deprecated-pragma"><span>WARNING and DEPRECATED pragmas</span></a> for more details on the pragmas.</p>
<p class="last">This option is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-amp</span></code></dt>
<dd><p class="first" id="index-17">This option is deprecated.</p>
<p class="last">Caused a warning to be emitted when a definition was in conflict with
the AMP (Applicative-Monad proosal).</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-noncanonical-monad-instances</span></code></dt>
<dd><p class="first" id="index-18">Warn if noncanonical <code class="docutils literal"><span class="pre">Applicative</span></code> or <code class="docutils literal"><span class="pre">Monad</span></code> instances
declarations are detected.</p>
<p>When this warning is enabled, the following conditions are verified:</p>
<p>In <code class="docutils literal"><span class="pre">Monad</span></code> instances declarations warn if any of the following
conditions does not hold:</p>
<blockquote>
<div><ul class="simple">
<li>If <code class="docutils literal"><span class="pre">return</span></code> is defined it must be canonical (i.e. <code class="docutils literal"><span class="pre">return</span> <span class="pre">=</span> <span class="pre">pure</span></code>).</li>
<li>If <code class="docutils literal"><span class="pre">(&gt;&gt;)</span></code> is defined it must be canonical (i.e. <code class="docutils literal"><span class="pre">(&gt;&gt;)</span> <span class="pre">=</span> <span class="pre">(*&gt;)</span></code>).</li>
</ul>
</div></blockquote>
<p>Moreover, in &#8216;Applicative&#8217; instance declarations:</p>
<blockquote>
<div><ul class="simple">
<li>Warn if <code class="docutils literal"><span class="pre">pure</span></code> is defined backwards (i.e. <code class="docutils literal"><span class="pre">pure</span> <span class="pre">=</span> <span class="pre">return</span></code>).</li>
<li>Warn if <code class="docutils literal"><span class="pre">(*&gt;)</span></code> is defined backwards (i.e. <code class="docutils literal"><span class="pre">(*&gt;)</span> <span class="pre">=</span> <span class="pre">(&gt;&gt;)</span></code>).</li>
</ul>
</div></blockquote>
<p class="last">This option is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-noncanonical-monoid-instances</span></code></dt>
<dd><p class="first" id="index-19">Warn if noncanonical <code class="docutils literal"><span class="pre">Semigroup</span></code> or <code class="docutils literal"><span class="pre">Monoid</span></code> instances
declarations are detected.</p>
<p>When this warning is enabled, the following conditions are verified:</p>
<p>In <code class="docutils literal"><span class="pre">Monoid</span></code> instances declarations warn if any of the following
conditions does not hold:</p>
<blockquote>
<div><ul class="simple">
<li>If <code class="docutils literal"><span class="pre">mappend</span></code> is defined it must be canonical
(i.e. <code class="docutils literal"><span class="pre">mappend</span> <span class="pre">=</span> <span class="pre">(Data.Semigroup.&lt;&gt;)</span></code>).</li>
</ul>
</div></blockquote>
<p>Moreover, in &#8216;Semigroup&#8217; instance declarations:</p>
<blockquote>
<div><ul class="simple">
<li>Warn if <code class="docutils literal"><span class="pre">(&lt;&gt;)</span></code> is defined backwards (i.e. <code class="docutils literal"><span class="pre">(&lt;&gt;)</span> <span class="pre">=</span> <span class="pre">mappend</span></code>).</li>
</ul>
</div></blockquote>
<p class="last">This warning is off by default. However, it is part of the
<code class="docutils literal"><span class="pre">-Wcompat</span></code> option group.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-monadfail-instance</span></code></dt>
<dd><p class="first" id="index-20">Warn when a failable pattern is used in a do-block that does not have a
<code class="docutils literal"><span class="pre">MonadFail</span></code> instance.</p>
<p class="last">Being part of the <code class="docutils literal"><span class="pre">-Wcompat</span></code> option group, this warning is off by
default, but will be switched on in a future GHC release, as part of
the <a class="reference external" href="https://prime.haskell.org/wiki/Libraries/Proposals/MonadFail">MonadFail Proposal (MFP)</a>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-semigroup</span></code></dt>
<dd><p class="first" id="index-21">Warn when definitions are in conflict with the future inclusion of
<code class="docutils literal"><span class="pre">Semigroup</span></code> into the standard typeclasses.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Instances of <code class="docutils literal"><span class="pre">Monoid</span></code> should also be instances of <code class="docutils literal"><span class="pre">Semigroup</span></code></li>
<li>The <code class="docutils literal"><span class="pre">Semigroup</span></code> operator <code class="docutils literal"><span class="pre">(&lt;&gt;)</span></code> will be in <code class="docutils literal"><span class="pre">Prelude</span></code>, which
clashes with custom local definitions of such an operator</li>
</ol>
</div></blockquote>
<p class="last">Being part of the <code class="docutils literal"><span class="pre">-Wcompat</span></code> option group, this warning is off by
default, but will be switched on in a future GHC release.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-deprecated-flags</span></code></dt>
<dd><p class="first" id="index-22">Causes a warning to be emitted when a deprecated command-line flag
is used.</p>
<p class="last">This option is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unsupported-calling-conventions</span></code></dt>
<dd><p class="first last" id="index-23">Causes a warning to be emitted for foreign declarations that use
unsupported calling conventions. In particular, if the <code class="docutils literal"><span class="pre">stdcall</span></code>
calling convention is used on an architecture other than i386 then
it will be treated as <code class="docutils literal"><span class="pre">ccall</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-dodgy-foreign-imports</span></code></dt>
<dd><p class="first" id="index-24">Causes a warning to be emitted for foreign imports of the following
form:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">foreign</span> <span class="kr">import</span> <span class="s">&quot;f&quot;</span> <span class="nn">f</span> <span class="ow">::</span> <span class="kt">FunPtr</span> <span class="n">t</span>
</pre></div>
</div>
<p>on the grounds that it probably should be</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">foreign</span> <span class="kr">import</span> <span class="s">&quot;&amp;f&quot;</span> <span class="nn">f</span> <span class="ow">::</span> <span class="kt">FunPtr</span> <span class="n">t</span>
</pre></div>
</div>
<p class="last">The first form declares that `f` is a (pure) C function that takes
no arguments and returns a pointer to a C function with type `t`,
whereas the second form declares that `f` itself is a C function
with type `t`. The first declaration is usually a mistake, and one
that is hard to debug because it results in a crash, hence this
warning.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-dodgy-exports</span></code></dt>
<dd><p class="first" id="index-25">Causes a warning to be emitted when a datatype <code class="docutils literal"><span class="pre">T</span></code> is exported
with all constructors, i.e. <code class="docutils literal"><span class="pre">T(..)</span></code>, but is it just a type
synonym.</p>
<p class="last">Also causes a warning to be emitted when a module is re-exported,
but that module exports nothing.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-dodgy-imports</span></code></dt>
<dd><p class="first" id="index-26">Causes a warning to be emitted in the following cases:</p>
<ul class="last simple">
<li>When a datatype <code class="docutils literal"><span class="pre">T</span></code> is imported with all constructors, i.e.
<code class="docutils literal"><span class="pre">T(..)</span></code>, but has been exported abstractly, i.e. <code class="docutils literal"><span class="pre">T</span></code>.</li>
<li>When an <code class="docutils literal"><span class="pre">import</span></code> statement hides an entity that is not
exported.</li>
</ul>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-overflowed-literals</span></code></dt>
<dd><p class="first last" id="index-27">Causes a warning to be emitted if a literal will overflow, e.g.
<code class="docutils literal"><span class="pre">300</span> <span class="pre">::</span> <span class="pre">Word8</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-empty-enumerations</span></code></dt>
<dd><p class="first last" id="index-28">Causes a warning to be emitted if an enumeration is empty, e.g.
<code class="docutils literal"><span class="pre">[5</span> <span class="pre">..</span> <span class="pre">3]</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-lazy-unlifted-bindings</span></code></dt>
<dd><p class="first last" id="index-29">This flag is a no-op, and will be removed in GHC 7.10.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-duplicate-constraints</span></code></dt>
<dd><p class="first" id="index-30">Have the compiler warn about duplicate constraints in a type
signature. For example</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Show</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Eq</span> <span class="n">a</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</pre></div>
</div>
<p>The warning will indicate the duplicated <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> constraint.</p>
<p class="last">This option is now deprecated in favour of
<code class="docutils literal"><span class="pre">-fwarn-redundant-constraints</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-redundant-constraints</span></code></dt>
<dd><p class="first" id="index-31">Have the compiler warn about redundant constraints in a type
signature. In particular:</p>
<ul>
<li><p class="first">A redundant constraint within the type signature itself:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Ord</span> <span class="n">a</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</pre></div>
</div>
<p>The warning will indicate the redundant <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> constraint: it
is subsumed by the <code class="docutils literal"><span class="pre">Ord</span> <span class="pre">a</span></code> constraint.</p>
</li>
<li><p class="first">A constraint in the type signature is not used in the code it
covers:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">Eq</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span>
<span class="nf">f</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="kt">True</span>
</pre></div>
</div>
<p>The warning will indicate the redundant <code class="docutils literal"><span class="pre">Eq</span> <span class="pre">a</span></code> constraint: : it
is not used by the definition of <code class="docutils literal"><span class="pre">f</span></code>.)</p>
</li>
</ul>
<p>Similar warnings are given for a redundant constraint in an instance
declaration.</p>
<p>This option is on by default. As usual you can suppress it on a
per-module basis with <code class="docutils literal"><span class="pre">-fno-warn-redundant-constraints</span></code>.
Occasionally you may specifically want a function to have a more
constrained signature than necessary, perhaps to leave yourself
wiggle-room for changing the implementation without changing the
API. In that case, you can suppress the warning on a per-function
basis, using a call in a dead binding. For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">Eq</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span>
<span class="nf">f</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="kt">True</span>
<span class="kr">where</span>
    <span class="kr">_</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span>  <span class="c1">-- Suppress the redundant-constraint warning for (Eq a)</span>
</pre></div>
</div>
<p class="last">Here the call to <code class="docutils literal"><span class="pre">(==)</span></code> makes GHC think that the <code class="docutils literal"><span class="pre">(Eq</span> <span class="pre">a)</span></code>
constraint is needed, so no warning is issued.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-duplicate-exports</span></code></dt>
<dd><p class="first" id="index-32">Have the compiler warn about duplicate entries in export lists. This
is useful information if you maintain large export lists, and want
to avoid the continued export of a definition after you&#8217;ve deleted
(one) mention of it in the export list.</p>
<p class="last">This option is on by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-hi-shadowing</span></code></dt>
<dd><p class="first last" id="index-33">Causes the compiler to emit a warning when a module or interface
file in the current directory is shadowing one with the same module
name in a library or other directory.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-identities</span></code></dt>
<dd><p class="first last" id="index-34">Causes the compiler to emit a warning when a Prelude numeric
conversion converts a type T to the same type T; such calls are
probably no-ops and can be omitted. The functions checked for are:
<code class="docutils literal"><span class="pre">toInteger</span></code>, <code class="docutils literal"><span class="pre">toRational</span></code>, <code class="docutils literal"><span class="pre">fromIntegral</span></code>, and <code class="docutils literal"><span class="pre">realToFrac</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-implicit-prelude</span></code></dt>
<dd><p class="first" id="index-35">Have the compiler warn if the Prelude is implicitly imported. This
happens unless either the Prelude module is explicitly imported with
an <code class="docutils literal"><span class="pre">import</span> <span class="pre">...</span> <span class="pre">Prelude</span> <span class="pre">...</span></code> line, or this implicit import is
disabled (either by <code class="docutils literal"><span class="pre">-XNoImplicitPrelude</span></code> or a
<code class="docutils literal"><span class="pre">LANGUAGE</span> <span class="pre">NoImplicitPrelude</span></code> pragma).</p>
<p>Note that no warning is given for syntax that implicitly refers to
the Prelude, even if <code class="docutils literal"><span class="pre">-XNoImplicitPrelude</span></code> would change whether it
refers to the Prelude. For example, no warning is given when <code class="docutils literal"><span class="pre">368</span></code>
means <code class="docutils literal"><span class="pre">Prelude.fromInteger</span> <span class="pre">(368::Prelude.Integer)</span></code> (where
<code class="docutils literal"><span class="pre">Prelude</span></code> refers to the actual Prelude module, regardless of the
imports of the module being compiled).</p>
<p class="last">This warning is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-incomplete-patterns</span></code>, <code class="docutils literal"><span class="pre">-fwarn-incomplete-uni-patterns</span></code></dt>
<dd><p class="first" id="index-36">The option <code class="docutils literal"><span class="pre">-fwarn-incomplete-patterns</span></code> warns about places where a
pattern-match might fail at runtime. The function <code class="docutils literal"><span class="pre">g</span></code> below will
fail when applied to non-empty lists, so the compiler will emit a
warning about this when <code class="docutils literal"><span class="pre">-fwarn-incomplete-patterns</span></code> is enabled.</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">g</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>This option isn&#8217;t enabled by default because it can be a bit noisy,
and it doesn&#8217;t always indicate a bug in the program. However, it&#8217;s
generally considered good practice to cover all the cases in your
functions, and it is switched on by <code class="docutils literal"><span class="pre">-W</span></code>.</p>
<p>The flag <code class="docutils literal"><span class="pre">-fwarn-incomplete-uni-patterns</span></code> is similar, except that
it applies only to lambda-expressions and pattern bindings,
constructs that only allow a single pattern:</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="nf">h</span> <span class="ow">=</span> <span class="nf">\</span><span class="kt">[]</span> <span class="ow">-&gt;</span> <span class="mi">2</span>
<span class="kt">Just</span> <span class="n">k</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">y</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-incomplete-record-updates</span></code></dt>
<dd><p class="first" id="index-37">The function <code class="docutils literal"><span class="pre">f</span></code> below will fail when applied to <code class="docutils literal"><span class="pre">Bar</span></code>, so the
compiler will emit a warning about this when
<code class="docutils literal"><span class="pre">-fwarn-incomplete-record-updates</span></code> is enabled.</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">data</span> <span class="kt">Foo</span> <span class="ow">=</span> <span class="kt">Foo</span> <span class="p">{</span> <span class="n">x</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="p">}</span>
         <span class="o">|</span> <span class="kt">Bar</span>

<span class="nf">f</span> <span class="ow">::</span> <span class="kt">Foo</span> <span class="ow">-&gt;</span> <span class="kt">Foo</span>
<span class="nf">f</span> <span class="n">foo</span> <span class="ow">=</span> <span class="n">foo</span> <span class="p">{</span> <span class="n">x</span> <span class="ow">=</span> <span class="mi">6</span> <span class="p">}</span>
</pre></div>
</div>
<p class="last">This option isn&#8217;t enabled by default because it can be very noisy,
and it often doesn&#8217;t indicate a bug in the program.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-fields</span></code></dt>
<dd><p class="first last" id="index-38">This option is on by default, and warns you whenever the
construction of a labelled field constructor isn&#8217;t complete, missing
initialisers for one or more fields. While not an error (the missing
fields are initialised with bottoms), it is often an indication of a
programmer error.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-import-lists</span></code></dt>
<dd><p class="first" id="index-39">This flag warns if you use an unqualified <code class="docutils literal"><span class="pre">import</span></code> declaration
that does not explicitly list the entities brought into scope. For
example</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">M</span> <span class="kr">where</span>
  <span class="kr">import</span> <span class="nn">X</span><span class="p">(</span> <span class="n">f</span> <span class="p">)</span>
  <span class="kr">import</span> <span class="nn">Y</span>
  <span class="kr">import</span> <span class="k">qualified</span> <span class="nn">Z</span>
  <span class="n">p</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">x</span> <span class="n">x</span>
</pre></div>
</div>
<p class="last">The <code class="docutils literal"><span class="pre">-fwarn-import-lists</span></code> flag will warn about the import of <code class="docutils literal"><span class="pre">Y</span></code>
but not <code class="docutils literal"><span class="pre">X</span></code> If module <code class="docutils literal"><span class="pre">Y</span></code> is later changed to export (say)
<code class="docutils literal"><span class="pre">f</span></code>, then the reference to <code class="docutils literal"><span class="pre">f</span></code> in <code class="docutils literal"><span class="pre">M</span></code> will become ambiguous.
No warning is produced for the import of <code class="docutils literal"><span class="pre">Z</span></code> because extending
<code class="docutils literal"><span class="pre">Z</span></code>&#8216;s exports would be unlikely to produce ambiguity in <code class="docutils literal"><span class="pre">M</span></code>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-methods</span></code></dt>
<dd><p class="first" id="index-40">This option is on by default, and warns you whenever an instance
declaration is missing one or more methods, and the corresponding
class declaration has no default declaration for them.</p>
<p>The warning is suppressed if the method name begins with an
underscore. Here&#8217;s an example where this is useful:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">class</span> <span class="kt">C</span> <span class="n">a</span> <span class="kr">where</span>
    <span class="n">_simpleFn</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
    <span class="n">complexFn</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
    <span class="n">complexFn</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="o">...</span> <span class="n">_simpleFn</span> <span class="o">...</span>
</pre></div>
</div>
<p>The idea is that: (a) users of the class will only call
<code class="docutils literal"><span class="pre">complexFn</span></code>; never <code class="docutils literal"><span class="pre">_simpleFn</span></code>; and (b) instance declarations
can define either <code class="docutils literal"><span class="pre">complexFn</span></code> or <code class="docutils literal"><span class="pre">_simpleFn</span></code>.</p>
<p class="last">The <code class="docutils literal"><span class="pre">MINIMAL</span></code> pragma can be used to change which combination of
methods will be required for instances of a particular class. See
<a class="reference internal" href="glasgow_exts.html#minimal-pragma"><span>MINIMAL pragma</span></a>.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-signatures</span></code></dt>
<dd><p class="first last" id="index-41">If you would like GHC to check that every top-level function/value
has a type signature, use the <code class="docutils literal"><span class="pre">-fwarn-missing-signatures</span></code> option.
As part of the warning GHC also reports the inferred type. The
option is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-exported-sigs</span></code></dt>
<dd><p class="first last" id="index-42">If you would like GHC to check that every exported top-level
function/value has a type signature, but not check unexported
values, use the <code class="docutils literal"><span class="pre">-fwarn-missing-exported-sigs</span></code> option. This option
takes precedence over <code class="docutils literal"><span class="pre">-fwarn-missing-signatures</span></code>. As part of the
warning GHC also reports the inferred type. The option is off by
default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-local-sigs</span></code></dt>
<dd><p class="first last" id="index-43">If you use the <code class="docutils literal"><span class="pre">-fwarn-missing-local-sigs</span></code> flag GHC will warn you
about any polymorphic local bindings. As part of the warning GHC
also reports the inferred type. The option is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-missing-pat-syn-sigs</span></code></dt>
<dd><p class="first last" id="index-44">If you would like GHC to check that every pattern synonym has a type
signature, use the <code class="docutils literal"><span class="pre">-fwarn-missing-pat-syn-sigs</span></code> option. If this option is
used in conjunction with <code class="docutils literal"><span class="pre">-fwarn-missing-exported-sigs</span></code> then only
exported pattern synonyms must have a type signature. GHC also reports the
inferred type. This option is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-name-shadowing</span></code></dt>
<dd><p class="first" id="index-45">This option causes a warning to be emitted whenever an inner-scope
value has the same name as an outer-scope value, i.e. the inner
value shadows the outer one. This can catch typographical errors
that turn into hard-to-find bugs, e.g., in the inadvertent capture
of what would be a recursive call in
<code class="docutils literal"><span class="pre">f</span> <span class="pre">=</span> <span class="pre">...</span> <span class="pre">let</span> <span class="pre">f</span> <span class="pre">=</span> <span class="pre">id</span> <span class="pre">in</span> <span class="pre">...</span> <span class="pre">f</span> <span class="pre">...</span></code>.</p>
<p>The warning is suppressed for names beginning with an underscore.
For example</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="n">x</span> <span class="ow">=</span> <span class="kr">do</span> <span class="p">{</span> <span class="n">_ignore</span> <span class="ow">&lt;-</span> <span class="n">this</span><span class="p">;</span> <span class="n">_ignore</span> <span class="ow">&lt;-</span> <span class="n">that</span><span class="p">;</span> <span class="n">return</span> <span class="p">(</span><span class="n">the</span> <span class="n">other</span><span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-orphans</span></code></dt>
<dd><p class="first" id="index-46">These flags cause a warning to be emitted whenever the module
contains an &#8220;orphan&#8221; instance declaration or rewrite rule. An
instance declaration is an orphan if it appears in a module in which
neither the class nor the type being instanced are declared in the
same module. A rule is an orphan if it is a rule for a function
declared in another module. A module containing any orphans is
called an orphan module.</p>
<p>The trouble with orphans is that GHC must pro-actively read the
interface files for all orphan modules, just in case their instances
or rules play a role, whether or not the module&#8217;s interface would
otherwise be of any use. See <a class="reference internal" href="separate_compilation.html#orphan-modules"><span>Orphan modules and instance declarations</span></a> for details.</p>
<p class="last">The flag <code class="docutils literal"><span class="pre">-fwarn-orphans</span></code> warns about user-written orphan rules or
instances.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-overlapping-patterns</span></code></dt>
<dd><p class="first" id="index-47">By default, the compiler will warn you if a set of patterns are
overlapping, e.g.,</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">f</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="mi">0</span>
<span class="nf">f</span> <span class="p">(</span><span class="kr">_</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">f</span> <span class="s">&quot;2&quot;</span>    <span class="ow">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p class="last">where the last pattern match in <code class="docutils literal"><span class="pre">f</span></code> won&#8217;t ever be reached, as the
second pattern overlaps it. More often than not, redundant patterns
is a programmer mistake/error, so this option is enabled by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-tabs</span></code></dt>
<dd><p class="first last" id="index-48">Have the compiler warn if there are tabs in your source file.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-type-defaults</span></code></dt>
<dd><p class="first" id="index-49">Have the compiler warn/inform you where in your source the Haskell
defaulting mechanism for numeric types kicks in. This is useful
information when converting code from a context that assumed one
default into one with another, e.g., the ‘default default’ for
Haskell 1.4 caused the otherwise unconstrained value <code class="docutils literal"><span class="pre">1</span></code> to be
given the type <code class="docutils literal"><span class="pre">Int</span></code>, whereas Haskell 98 and later defaults it to
<code class="docutils literal"><span class="pre">Integer</span></code>. This may lead to differences in performance and
behaviour, hence the usefulness of being non-silent about this.</p>
<p class="last">This warning is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-monomorphism-restriction</span></code></dt>
<dd><p class="first" id="index-50">Have the compiler warn/inform you where in your source the Haskell
Monomorphism Restriction is applied. If applied silently the MR can
give rise to unexpected behaviour, so it can be helpful to have an
explicit warning that it is being applied.</p>
<p class="last">This warning is off by default.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unticked-promoted-constructors</span></code></dt>
<dd><p class="first" id="index-51">Warn if a promoted data constructor is used without a tick preceding
its name.</p>
<p>For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">data</span> <span class="kt">Nat</span> <span class="ow">=</span> <span class="kt">Succ</span> <span class="kt">Nat</span> <span class="o">|</span> <span class="kt">Zero</span>

<span class="kr">data</span> <span class="kt">Vec</span> <span class="n">n</span> <span class="n">s</span> <span class="kr">where</span>
  <span class="kt">Nil</span>  <span class="ow">::</span> <span class="kt">Vec</span> <span class="kt">Zero</span> <span class="n">a</span>
  <span class="kt">Cons</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Vec</span> <span class="n">n</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Vec</span> <span class="p">(</span><span class="kt">Succ</span> <span class="n">n</span><span class="p">)</span> <span class="n">a</span>
</pre></div>
</div>
<p>Will raise two warnings because <code class="docutils literal"><span class="pre">Zero</span></code> and <code class="docutils literal"><span class="pre">Succ</span></code> are not
written as <code class="docutils literal"><span class="pre">'Zero</span></code> and <code class="docutils literal"><span class="pre">'Succ</span></code>.</p>
<p class="last">This warning is is enabled by default in <code class="docutils literal"><span class="pre">-Wall</span></code> mode.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-binds</span></code></dt>
<dd><p class="first" id="index-52">Report any function definitions (and local bindings) which are
unused. An alias for</p>
<ul class="last simple">
<li><code class="docutils literal"><span class="pre">-fwarn-unused-top-binds</span></code></li>
<li><code class="docutils literal"><span class="pre">-fwarn-unused-local-binds</span></code></li>
<li><code class="docutils literal"><span class="pre">-fwarn-unused-pattern-binds</span></code></li>
</ul>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-top-binds</span></code></dt>
<dd><p class="first" id="index-53">Report any function definitions which are unused.</p>
<p>More precisely, warn if a binding brings into scope a variable that
is not used, except if the variable&#8217;s name starts with an
underscore. The &#8220;starts-with-underscore&#8221; condition provides a way to
selectively disable the warning.</p>
<p>A variable is regarded as &#8220;used&#8221; if</p>
<ul class="simple">
<li>It is exported, or</li>
<li>It appears in the right hand side of a binding that binds at
least one used variable that is used</li>
</ul>
<p>For example</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">A</span> <span class="p">(</span><span class="nf">f</span><span class="p">)</span> <span class="kr">where</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kr">let</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs1</span> <span class="kr">in</span> <span class="n">t</span> <span class="n">p</span>  <span class="c1">-- No warning: q is unused, but is locally bound</span>
<span class="nf">t</span> <span class="ow">=</span> <span class="n">rhs3</span>                     <span class="c1">-- No warning: f is used, and hence so is t</span>
<span class="nf">g</span> <span class="ow">=</span> <span class="n">h</span> <span class="n">x</span>                      <span class="c1">-- Warning: g unused</span>
<span class="nf">h</span> <span class="ow">=</span> <span class="n">rhs2</span>                     <span class="c1">-- Warning: h is only used in the</span>
                             <span class="c1">-- right-hand side of another unused binding</span>
<span class="nf">_w</span> <span class="ow">=</span> <span class="kt">True</span>                    <span class="c1">-- No warning: _w starts with an underscore</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-local-binds</span></code></dt>
<dd><p class="first" id="index-54">Report any local definitions which are unused. For example</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="kr">module</span> <span class="nn">A</span> <span class="p">(</span><span class="nf">f</span><span class="p">)</span> <span class="kr">where</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kr">let</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs1</span> <span class="kr">in</span> <span class="n">t</span> <span class="n">p</span>  <span class="c1">-- Warning: q is unused</span>
<span class="nf">g</span> <span class="ow">=</span> <span class="n">h</span> <span class="n">x</span>                      <span class="c1">-- No warning: g is unused, but is a top-level binding</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-pattern-binds</span></code></dt>
<dd><p class="first" id="index-55">Warn if a pattern binding binds no variables at all, unless it is a
lone, possibly-banged, wild-card pattern. For example:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kt">Just</span> <span class="kr">_</span> <span class="ow">=</span> <span class="n">rhs3</span>    <span class="c1">-- Warning: unused pattern binding</span>
<span class="p">(</span><span class="kr">_</span><span class="p">,</span> <span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">rhs4</span>    <span class="c1">-- Warning: unused pattern binding</span>
<span class="kr">_</span>  <span class="ow">=</span> <span class="n">rhs3</span>        <span class="c1">-- No warning: lone wild-card pattern</span>
<span class="o">!</span><span class="kr">_</span> <span class="ow">=</span> <span class="n">rhs4</span>        <span class="c1">-- No warning: banged wild-card pattern; behaves like seq</span>
</pre></div>
</div>
<p class="last">The motivation for allowing lone wild-card patterns is they are not
very different from <code class="docutils literal"><span class="pre">_v</span> <span class="pre">=</span> <span class="pre">rhs3</span></code>, which elicits no warning; and
they can be useful to add a type constraint, e.g. <code class="docutils literal"><span class="pre">_</span> <span class="pre">=</span> <span class="pre">x::Int</span></code>. A
lone banged wild-card pattern is useful as an alternative (to
<code class="docutils literal"><span class="pre">seq</span></code>) way to force evaluation.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-imports</span></code></dt>
<dd><p class="first last" id="index-56">Report any modules that are explicitly imported but never used.
However, the form <code class="docutils literal"><span class="pre">import</span> <span class="pre">M()</span></code> is never reported as an unused
import, because it is a useful idiom for importing instance
declarations, which are anonymous in Haskell.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-matches</span></code></dt>
<dd><p class="first" id="index-57">Report all unused variables which arise from pattern matches,
including patterns consisting of a single variable. For instance
<code class="docutils literal"><span class="pre">f</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">[]</span></code> would report <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> as unused. The warning
is suppressed if the variable name begins with an underscore, thus:</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="n">_x</span> <span class="ow">=</span> <span class="kt">True</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-unused-do-bind</span></code></dt>
<dd><p class="first" id="index-58">Report expressions occurring in <code class="docutils literal"><span class="pre">do</span></code> and <code class="docutils literal"><span class="pre">mdo</span></code> blocks that
appear to silently throw information away. For instance
<code class="docutils literal"><span class="pre">do</span> <span class="pre">{</span> <span class="pre">mapM</span> <span class="pre">popInt</span> <span class="pre">xs</span> <span class="pre">;</span> <span class="pre">return</span> <span class="pre">10</span> <span class="pre">}</span></code> would report the first
statement in the <code class="docutils literal"><span class="pre">do</span></code> block as suspicious, as it has the type
<code class="docutils literal"><span class="pre">StackM</span> <span class="pre">[Int]</span></code> and not <code class="docutils literal"><span class="pre">StackM</span> <span class="pre">()</span></code>, but that <code class="docutils literal"><span class="pre">[Int]</span></code> value is
not bound to anything. The warning is suppressed by explicitly
mentioning in the source code that your program is throwing
something away:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">mapM</span> <span class="n">popInt</span> <span class="n">xs</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
<p>Of course, in this particular situation you can do even better:</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="n">mapM_</span> <span class="n">popInt</span> <span class="n">xs</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-context-quantification</span></code></dt>
<dd><p class="first" id="index-59">Report if a variable is quantified only due to its presence in a
context (see <a class="reference internal" href="glasgow_exts.html#universal-quantification"><span>Arbitrary-rank polymorphism</span></a>). For example,</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">type</span> <span class="kt">T</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">a</span>
</pre></div>
</div>
<p>It is recommended to write this polymorphic type as</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">type</span> <span class="kt">T</span> <span class="n">a</span> <span class="ow">=</span> <span class="n">forall</span> <span class="n">m</span><span class="o">.</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">a</span>
</pre></div>
</div>
<p class="last">instead.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-wrong-do-bind</span></code></dt>
<dd><p class="first" id="index-60">Report expressions occurring in <code class="docutils literal"><span class="pre">do</span></code> and <code class="docutils literal"><span class="pre">mdo</span></code> blocks that
appear to lack a binding. For instance
<code class="docutils literal"><span class="pre">do</span> <span class="pre">{</span> <span class="pre">return</span> <span class="pre">(popInt</span> <span class="pre">10)</span> <span class="pre">;</span> <span class="pre">return</span> <span class="pre">10</span> <span class="pre">}</span></code> would report the first
statement in the <code class="docutils literal"><span class="pre">do</span></code> block as suspicious, as it has the type
<code class="docutils literal"><span class="pre">StackM</span> <span class="pre">(StackM</span> <span class="pre">Int)</span></code> (which consists of two nested applications
of the same monad constructor), but which is not then &#8220;unpacked&#8221; by
binding the result. The warning is suppressed by explicitly
mentioning in the source code that your program is throwing
something away:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">return</span> <span class="p">(</span><span class="n">popInt</span> <span class="mi">10</span><span class="p">)</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
<p>For almost all sensible programs this will indicate a bug, and you
probably intended to write:</p>
<div class="last highlight-haskell"><div class="highlight"><pre><span class="kr">do</span> <span class="p">{</span> <span class="n">popInt</span> <span class="mi">10</span> <span class="p">;</span> <span class="n">return</span> <span class="mi">10</span> <span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">-fwarn-inline-rule-shadowing</span></code></dt>
<dd><p class="first last" id="index-61">Warn if a rewrite RULE might fail to fire because the function might
be inlined before the rule has a chance to fire. See
<a class="reference internal" href="glasgow_exts.html#rules-inline"><span>How rules interact with INLINE/NOINLINE pragmas</span></a>.</p>
</dd>
</dl>
<p>If you&#8217;re feeling really paranoid, the <code class="docutils literal"><span class="pre">-dcore-lint</span></code> option is a good choice.
It turns on heavyweight intra-pass sanity-checking within GHC. (It checks GHC&#8217;s
sanity, not yours.)</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="using-optimisation.html" title="6.3. Optimisation (code improvement)"
             >next</a> |</li>
        <li class="right" >
          <a href="using.html" title="6.1. Using GHC"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 7.11.20151211 Users Guide</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="usage.html" >6. Using GHC</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>