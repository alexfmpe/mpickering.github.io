
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Release notes for version 7.12.1 &mdash; Glasgow Haskell Compiler &lt;release&gt; Users Guide</title>
    
    <link rel="stylesheet" href="_static/ghc-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.11.20151211',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Glasgow Haskell Compiler &lt;release&gt; Users Guide" href="index.html" />
    <link rel="next" title="4. Using GHCi" href="ghci.html" />
    <link rel="prev" title="2. Introduction to GHC" href="intro.html" /> 
  </head>
  <body role="document">
<div class="logo">
    <h1><a href="index.html">Glasgow Haskell Compiler Users Guide</a></h1>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ghci.html" title="4. Using GHCi"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="2. Introduction to GHC"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 7.11.20151211 Users Guide</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Release notes for version 7.12.1</a><ul>
<li><a class="reference internal" href="#highlights">3.1. Highlights</a></li>
<li><a class="reference internal" href="#full-details">3.2. Full details</a><ul>
<li><a class="reference internal" href="#language">3.2.1. Language</a></li>
<li><a class="reference internal" href="#compiler">3.2.2. Compiler</a></li>
<li><a class="reference internal" href="#ghci">3.2.3. GHCi</a></li>
<li><a class="reference internal" href="#template-haskell">3.2.4. Template Haskell</a></li>
<li><a class="reference internal" href="#runtime-system">3.2.5. Runtime system</a></li>
<li><a class="reference internal" href="#build-system">3.2.6. Build system</a></li>
<li><a class="reference internal" href="#package-system">3.2.7. Package system</a></li>
</ul>
</li>
<li><a class="reference internal" href="#libraries">3.3. Libraries</a><ul>
<li><a class="reference internal" href="#array">3.3.1. array</a></li>
<li><a class="reference internal" href="#base">3.3.2. base</a></li>
<li><a class="reference internal" href="#binary">3.3.3. binary</a></li>
<li><a class="reference internal" href="#bytestring">3.3.4. bytestring</a></li>
<li><a class="reference internal" href="#cabal">3.3.5. Cabal</a></li>
<li><a class="reference internal" href="#containers">3.3.6. containers</a></li>
<li><a class="reference internal" href="#deepseq">3.3.7. deepseq</a></li>
<li><a class="reference internal" href="#directory">3.3.8. directory</a></li>
<li><a class="reference internal" href="#filepath">3.3.9. filepath</a></li>
<li><a class="reference internal" href="#ghc">3.3.10. ghc</a></li>
<li><a class="reference internal" href="#ghc-boot">3.3.11. ghc-boot</a></li>
<li><a class="reference internal" href="#ghc-prim">3.3.12. ghc-prim</a></li>
<li><a class="reference internal" href="#haskell98">3.3.13. haskell98</a></li>
<li><a class="reference internal" href="#haskell2010">3.3.14. haskell2010</a></li>
<li><a class="reference internal" href="#hoopl">3.3.15. hoopl</a></li>
<li><a class="reference internal" href="#hpc">3.3.16. hpc</a></li>
<li><a class="reference internal" href="#integer-gmp">3.3.17. integer-gmp</a></li>
<li><a class="reference internal" href="#old-locale">3.3.18. old-locale</a></li>
<li><a class="reference internal" href="#old-time">3.3.19. old-time</a></li>
<li><a class="reference internal" href="#process">3.3.20. process</a></li>
<li><a class="reference internal" href="#id1">3.3.21. template-haskell</a></li>
<li><a class="reference internal" href="#time">3.3.22. time</a></li>
<li><a class="reference internal" href="#unix">3.3.23. unix</a></li>
<li><a class="reference internal" href="#win32">3.3.24. Win32</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-bugs">3.4. Known bugs</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro.html"
                        title="previous chapter">2. Introduction to GHC</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ghci.html"
                        title="next chapter">4. Using GHCi</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/7.12.1-notes.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="release-notes-for-version-7-12-1">
<span id="release-7-12-1"></span><h1>3. Release notes for version 7.12.1<a class="headerlink" href="#release-notes-for-version-7-12-1" title="Permalink to this headline">¶</a></h1>
<p>The significant changes to the various parts of the compiler are listed
in the following sections. There have also been numerous bug fixes and
performance improvements over the 7.10 branch.</p>
<div class="section" id="highlights">
<h2>3.1. Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h2>
<p>The highlights, since the 7.10 branch, are:</p>
<ul class="simple">
<li>TODO FIXME</li>
</ul>
</div>
<div class="section" id="full-details">
<h2>3.2. Full details<a class="headerlink" href="#full-details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="language">
<h3>3.2.1. Language<a class="headerlink" href="#language" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">TODO FIXME.</p>
</li>
<li><p class="first">The parser now supports Haddock comments on GADT data constructors.
For example,</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="kr">data</span> <span class="kt">Expr</span> <span class="n">a</span> <span class="kr">where</span>
  <span class="c1">-- | Just a normal sum</span>
  <span class="kt">Sum</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Expr</span> <span class="kt">Int</span>
</pre></div>
</div>
</li>
<li><p class="first">Implicit parameters of the new ghc-prim type <code class="docutils literal"><span class="pre">GHC.Types.CallStack</span></code>
are treated specially, and automatically solved for the current
source location. For example</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">=</span> <span class="n">print</span> <span class="p">(</span><span class="o">?</span><span class="n">stk</span> <span class="ow">::</span> <span class="kt">CallStack</span><span class="p">)</span>
</pre></div>
</div>
<p>will print the singleton stack containing the occurrence of <code class="docutils literal"><span class="pre">?stk</span></code>.
If there is another <code class="docutils literal"><span class="pre">CallStack</span></code> implicit in-scope, the new location
will be appended to the existing stack, e.g.</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">f</span> <span class="ow">::</span> <span class="p">(</span><span class="o">?</span><span class="n">stk</span> <span class="ow">::</span> <span class="kt">CallStack</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="n">print</span> <span class="p">(</span><span class="o">?</span><span class="n">stk</span> <span class="ow">::</span> <span class="kt">CallStack</span><span class="p">)</span>
</pre></div>
</div>
<p>will print the occurrence of <code class="docutils literal"><span class="pre">?stk</span></code> and the call-site of <code class="docutils literal"><span class="pre">f</span></code>. The
name of the implicit parameter does not matter.</p>
<p>See the release notes for ghc-prim for a description of the
<code class="docutils literal"><span class="pre">CallStack</span></code> type.</p>
</li>
<li><p class="first">To conform to the common case, the default role assigned to
parameters of datatypes declared in <code class="docutils literal"><span class="pre">hs-boot</span></code> files is
<code class="docutils literal"><span class="pre">representational</span></code>. However, if the constructor(s) for the datatype
are given, it makes sense to do normal role inference. This is now
implemented, effectively making the default role for non-abstract
datatypes in <code class="docutils literal"><span class="pre">hs-boot</span></code> files to be <code class="docutils literal"><span class="pre">phantom</span></code>, like it is in
regular Haskell code.</p>
</li>
<li><p class="first">Wildcards can be used in the type arguments of type/data family
instance declarations to indicate that the name of a type variable
doesn&#8217;t matter. They will be replaced with new unique type variables.
See <a class="reference internal" href="glasgow_exts.html#data-instance-declarations"><span>Data instance declarations</span></a> for more details.</p>
</li>
<li><p class="first">GHC now allows to declare type families as injective. Injectivity
information can then be used by the typechecker. See
<a class="reference internal" href="glasgow_exts.html#injective-ty-fams"><span>Injective type families</span></a> for details.</p>
</li>
<li><p class="first">Due to a <a class="reference external" href="http://ghc.haskell.org/trac/ghc/ticket/10826">security issue</a>, Safe Haskell now forbids
annotations in programs marked as <code class="docutils literal"><span class="pre">-XSafe</span></code>.</p>
</li>
<li><p class="first">Generic instances can be derived for data types whose constructors have
arguments with certain unlifted types. See <a class="reference internal" href="glasgow_exts.html#generic-programming"><span>Generic programming</span></a> for
more details.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">-XDeriveAnyClass</span></code> extension now fills in associated type family
default instances when deriving a class that contains them.</p>
</li>
<li><p class="first">Users can now define record pattern synonyms. This allows pattern synonyms
to behave more like normal data constructors. For example,</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="nf">pattern</span> <span class="kt">P</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nf">pattern</span> <span class="kt">P</span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">}</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>will allow <cite>P</cite> to be used like a record data constructor and also defines
selector functions <cite>x :: (a, b) -&gt; a</cite> and <cite>y :: (a, b) -&gt; b</cite>.</p>
</li>
<li><p class="first">Pattern synonyms can now be bundled with type constructors. For a pattern
synonym <cite>P</cite> and a type constructor <cite>T</cite>, <cite>P</cite> can be bundled with <cite>T</cite> so that
when <cite>T</cite> is imported <cite>P</cite> is also imported. With this change
a library author can provide either real data constructors or pattern
synonyms in an opaque manner. See <a class="reference internal" href="glasgow_exts.html#pattern-synonyms"><span>Pattern synonyms</span></a> for details.</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="c1">-- Foo.hs</span>
<span class="kr">module</span> <span class="nn">Foo</span> <span class="p">(</span> <span class="kt">T</span><span class="p">(</span><span class="kt">P</span><span class="p">)</span> <span class="p">)</span> <span class="kr">where</span>

<span class="kr">data</span> <span class="kt">T</span> <span class="ow">=</span> <span class="kt">T</span>

<span class="nf">pattern</span> <span class="kt">P</span> <span class="ow">=</span> <span class="kt">T</span>

<span class="c1">-- Baz.hs</span>
<span class="kr">module</span> <span class="nn">Baz</span> <span class="kr">where</span>

<span class="c1">-- P is imported</span>
<span class="kr">import</span> <span class="nn">Foo</span> <span class="p">(</span><span class="kt">T</span><span class="p">(</span><span class="o">..</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p class="first">Whenever a data instance is exported, the corresponding data family
is exported, too. This allows one to write</p>
<div class="highlight-haskell"><div class="highlight"><pre><span class="c1">-- Foo.hs</span>
<span class="kr">module</span> <span class="nn">Foo</span> <span class="kr">where</span>

<span class="kr">data</span> <span class="n">family</span> <span class="kt">T</span> <span class="n">a</span>

<span class="c1">-- Bar.hs</span>
<span class="kr">module</span> <span class="nn">Bar</span> <span class="kr">where</span>

<span class="kr">import</span> <span class="nn">Foo</span>

<span class="kr">data</span> <span class="kr">instance</span> <span class="kt">T</span> <span class="kt">Int</span> <span class="ow">=</span> <span class="kt">MkT</span>

<span class="c1">-- Baz.hs</span>
<span class="kr">module</span> <span class="nn">Baz</span> <span class="kr">where</span>

<span class="kr">import</span> <span class="nn">Bar</span> <span class="p">(</span><span class="kt">T</span><span class="p">(</span><span class="kt">MkT</span><span class="p">))</span>
</pre></div>
</div>
<p>In previous versions of GHC, this required a workaround via an
explicit export list in Bar.</p>
</li>
</ul>
</div>
<div class="section" id="compiler">
<h3>3.2.2. Compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added the option <code class="docutils literal"><span class="pre">-dth-dec-file</span></code>. This dumps out a .th.hs file of
all Template Haskell declarations in a corresponding .hs file. The
idea is that application developers can check this into their
repository so that they can grep for identifiers used elsewhere that
were defined in Template Haskell. This is similar to using
<code class="docutils literal"><span class="pre">-ddump-to-file</span></code> with <code class="docutils literal"><span class="pre">-ddump-splices</span></code> but it always generates a
file instead of being coupled to <code class="docutils literal"><span class="pre">-ddump-to-file</span></code> and only outputs
code that does not exist in the .hs file and a comment for the splice
location in the original file.</li>
<li>Added the option <code class="docutils literal"><span class="pre">-fprint-expanded-types</span></code>. When enabled, GHC also
prints type-synonym-expanded types in type errors.</li>
<li>Added the option <code class="docutils literal"><span class="pre">-fcpr-anal</span></code>. When enabled, the demand analyser
performs CPR analysis. It is implied by <code class="docutils literal"><span class="pre">-O</span></code>. Consequently,
<code class="docutils literal"><span class="pre">-fcpr-off</span></code> is now removed, run with <code class="docutils literal"><span class="pre">-fno-cpr-anal</span></code> to get the
old <code class="docutils literal"><span class="pre">-fcpr-off</span></code> behaviour.</li>
<li>Added the option <code class="docutils literal"><span class="pre">-fworker-wrapper</span></code>. When enabled, the worker-wrapper
transformation is performed after a strictness analysis pass. It is implied
by <code class="docutils literal"><span class="pre">-O</span></code> and by <code class="docutils literal"><span class="pre">-fstrictness</span></code>. It is disabled by <code class="docutils literal"><span class="pre">-fno-strictness</span></code>.
Enabling <code class="docutils literal"><span class="pre">-fworker-wrapper</span></code> while strictness analysis is disabled (by
<code class="docutils literal"><span class="pre">-fno-strictness</span></code>) has no effect.</li>
<li>Added the options <code class="docutils literal"><span class="pre">-fwarn-missed-specialisations</span></code> and
<code class="docutils literal"><span class="pre">-fwarn-all-missed-specialisations</span></code>. When enabled, the simplifier will
produce a warning when a overloaded imported function cannot be
specialised (typically due to a missing <code class="docutils literal"><span class="pre">INLINEABLE</span></code> pragma). This
is intended to alert users to cases where they apply <code class="docutils literal"><span class="pre">INLINEABLE</span></code> but
may not get the speed-up they expect.</li>
<li>Added the option <code class="docutils literal"><span class="pre">-fwarn-noncanonical-monad-instances</span></code> which helps
detect noncanonical <code class="docutils literal"><span class="pre">Applicative</span></code>/<code class="docutils literal"><span class="pre">Monad</span></code> instance definitions.
See flag description in <a class="reference internal" href="using-warnings.html#options-sanity"><span>Warnings and sanity-checking</span></a> for more details.</li>
<li>When printing an out-of-scope error message, GHC will give helpful advice if
the error might be caused by too restrictive imports.</li>
<li>Added the <code class="docutils literal"><span class="pre">-Wcompat</span></code> warning group, along with its opposite
<code class="docutils literal"><span class="pre">-Wno-compat</span></code>. Turns on warnings that will be enabled by default in the
future, but remain off in normal compilations for the time being. This
allows library authors eager to make their code future compatible to adapt
to new features before they even generate warnings.</li>
<li>Added the <code class="docutils literal"><span class="pre">-fwarn-missing-monadfail-instance</span></code> flag. When enabled, this
will issue a warning if a failable pattern is used in a context that does
not have a <code class="docutils literal"><span class="pre">MonadFail</span></code> constraint. This flag represents phase 1 of the
<a class="reference external" href="https://prime.haskell.org/wiki/Libraries/Proposals/MonadFail">MonadFail Proposal (MFP)</a>.</li>
<li>Added the <code class="docutils literal"><span class="pre">-fwarn-semigroup</span></code> flag. When enabled, this
will issue a warning if a type is an instance of <code class="docutils literal"><span class="pre">Monoid</span></code> but not
<code class="docutils literal"><span class="pre">Semigroup</span></code>, and when a custom definition <code class="docutils literal"><span class="pre">(&lt;&gt;)</span></code> is made. Fixing these
warnings makes sure the definition of <code class="docutils literal"><span class="pre">Semigroup</span></code> as a superclass of
<code class="docutils literal"><span class="pre">Monoid</span></code> does not break any code.</li>
<li>Added the <code class="docutils literal"><span class="pre">-fwarn-missing-pat-syn-sigs</span></code> flag. When enabled, this will issue
a warning when a pattern synonym definition doesn&#8217;t have a type signature.
It is turned off by default but enabled by <code class="docutils literal"><span class="pre">-Wall</span></code>.</li>
</ul>
</div>
<div class="section" id="ghci">
<h3>3.2.3. GHCi<a class="headerlink" href="#ghci" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Main</span></code> with an explicit module header but without <code class="docutils literal"><span class="pre">main</span></code> is now
an error (#7765).</li>
<li>The <code class="docutils literal"><span class="pre">:back</span></code> and <code class="docutils literal"><span class="pre">:forward</span></code> commands now take an optional count
allowing the user to move forward or backward in history several
steps at a time.</li>
<li>Added commands <code class="docutils literal"><span class="pre">:load!</span></code> and <code class="docutils literal"><span class="pre">:reload!</span></code>, effectively setting
&#8220;-fdefer-type-errors&#8221; before loading a module and unsetting it after
loading if it has not been set before (#8353).</li>
<li><code class="docutils literal"><span class="pre">ghci</span> <span class="pre">-e</span></code> now behaves like <code class="docutils literal"><span class="pre">ghc</span> <span class="pre">-e</span></code> (#9360).</li>
<li>Added support for top-level function declarations (#7253).</li>
</ul>
</div>
<div class="section" id="template-haskell">
<h3>3.2.4. Template Haskell<a class="headerlink" href="#template-haskell" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The new <code class="docutils literal"><span class="pre">-XTemplateHaskellQuotes</span></code> flag allows to use the
quotes (not quasi-quotes) subset of <code class="docutils literal"><span class="pre">TemplateHaskell</span></code>.  This is
particularly useful for use with a stage 1 compiler (i.e. GHC
without interpreter support). Also, <code class="docutils literal"><span class="pre">-XTemplateHaskellQuotes</span></code> is
considered safe under Safe Haskell.</li>
<li>Partial type signatures can now be used in splices, see
<a class="reference internal" href="glasgow_exts.html#pts-where"><span>Where can they occur?</span></a>.</li>
<li><code class="docutils literal"><span class="pre">Template</span> <span class="pre">Haskell</span></code> now fully supports typed holes and quoting unbound
variables.  This means it is now possible to use pattern splices nested
inside quotation brackets.</li>
<li><code class="docutils literal"><span class="pre">Template</span> <span class="pre">Haskell</span></code> now supports the use of <code class="docutils literal"><span class="pre">UInfixT</span></code> in types to
resolve infix operator fixities, in the same vein as <code class="docutils literal"><span class="pre">UInfixP</span></code> and
<code class="docutils literal"><span class="pre">UInfixE</span></code> in patterns and expressions. <code class="docutils literal"><span class="pre">ParensT</span></code> and <code class="docutils literal"><span class="pre">InfixT</span></code>
have also been introduced, serving the same functions as their
pattern and expression counterparts.</li>
<li>Primitive chars (e.g., <code class="docutils literal"><span class="pre">[|</span> <span class="pre">'a'#</span> <span class="pre">|]</span></code>) and primitive strings (e.g.,
<code class="docutils literal"><span class="pre">[|</span> <span class="pre">&quot;abc&quot;#</span> <span class="pre">|]</span></code>) can now be quoted with Template Haskell. The
<code class="docutils literal"><span class="pre">Lit</span></code> data type also has a new constructor, <code class="docutils literal"><span class="pre">CharPrimL</span></code>, for
primitive char literals.</li>
<li><code class="docutils literal"><span class="pre">addTopDecls</span></code> now accepts annotation pragmas.</li>
<li>Internally, the implementation of quasi-quotes has been unified with
that of normal Template Haskell splices. Under the previous
implementation, top-level declaration quasi-quotes did not cause a
break in the declaration groups, unlike splices of the form
<code class="docutils literal"><span class="pre">$(...)</span></code>. This behavior has been preserved under the new
implementation, and is now recognized and documented in
<a class="reference internal" href="glasgow_exts.html#th-syntax"><span>Syntax</span></a>.</li>
<li>The <code class="docutils literal"><span class="pre">Lift</span></code> class is now derivable via the <code class="docutils literal"><span class="pre">-XDeriveLift</span></code> extension. See
<a class="reference internal" href="glasgow_exts.html#deriving-lift"><span>Deriving Lift instances</span></a> for more information.</li>
</ul>
</div>
<div class="section" id="runtime-system">
<h3>3.2.5. Runtime system<a class="headerlink" href="#runtime-system" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Support for performance monitoring with PAPI has been dropped.</li>
</ul>
</div>
<div class="section" id="build-system">
<h3>3.2.6. Build system<a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>TODO FIXME.</li>
</ul>
</div>
<div class="section" id="package-system">
<h3>3.2.7. Package system<a class="headerlink" href="#package-system" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>TODO FIXME.</li>
</ul>
</div>
</div>
<div class="section" id="libraries">
<h2>3.3. Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h2>
<div class="section" id="array">
<h3>3.3.1. array<a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.5.0.0)</li>
</ul>
</div>
<div class="section" id="base">
<h3>3.3.2. base<a class="headerlink" href="#base" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Version number 4.9.0.0 (was 4.7.0.0)</p>
</li>
<li><p class="first">A new module <code class="docutils literal"><span class="pre">GHC.SrcLoc</span></code> was added, exporting a new type
<code class="docutils literal"><span class="pre">SrcLoc</span></code>. A <code class="docutils literal"><span class="pre">SrcLoc</span></code> contains package, module, and file names, as
well as start and end positions.</p>
</li>
<li><p class="first">A new type <code class="docutils literal"><span class="pre">CallStack</span></code> was added for use with the new implicit
callstack parameters. A <code class="docutils literal"><span class="pre">CallStack</span></code> is a <code class="docutils literal"><span class="pre">[(String,</span> <span class="pre">SrcLoc)]</span></code>,
sorted by most-recent call.</p>
</li>
<li><p class="first">A new function, <code class="docutils literal"><span class="pre">interruptible</span></code>, was added to <code class="docutils literal"><span class="pre">GHC.IO</span></code> allowing
an <code class="docutils literal"><span class="pre">IO</span></code> action to be run such that it can be interrupted by an
asynchronous exception, even if exceptions are masked (except if
masked with <code class="docutils literal"><span class="pre">interruptibleMask</span></code>).</p>
<p>This was introduced to fix the behavior of <code class="docutils literal"><span class="pre">allowInterrupt</span></code>, which
would previously incorrectly allow exceptions in uninterruptible
regions (see <a class="reference external" href="http://ghc.haskell.org/trac/ghc/ticket/9516">Trac #9516</a>).</p>
</li>
<li><p class="first">Per-thread allocation counters (<code class="docutils literal"><span class="pre">setAllocationCounter</span></code> and
<code class="docutils literal"><span class="pre">getAllocationCounter</span></code>) and limits (<code class="docutils literal"><span class="pre">enableAllocationLimit</span></code>,
<code class="docutils literal"><span class="pre">disableAllocationLimit</span></code> are now available from <code class="docutils literal"><span class="pre">System.Mem</span></code>. Previously
this functionality was only available from <code class="docutils literal"><span class="pre">GHC.Conc</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">forever</span></code>, <code class="docutils literal"><span class="pre">filterM</span></code>, <code class="docutils literal"><span class="pre">mapAndUnzipM</span></code>, <code class="docutils literal"><span class="pre">zipWithM</span></code>, <code class="docutils literal"><span class="pre">zipWithM_</span></code>,
<code class="docutils literal"><span class="pre">replicateM</span></code>, and <code class="docutils literal"><span class="pre">replicateM</span></code> were generalized from <code class="docutils literal"><span class="pre">Monad</span></code> to
<code class="docutils literal"><span class="pre">Applicative</span></code>. If this causes performance regressions, try to make the
implementation of <code class="docutils literal"><span class="pre">(*&gt;)</span></code> match that of <code class="docutils literal"><span class="pre">(&gt;&gt;)</span></code>.</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">GHC.TypeLits.TypeError</span></code> and <code class="docutils literal"><span class="pre">ErrorMessage</span></code> to allow users
to define custom compile-time error messages.</p>
</li>
</ul>
</div>
<div class="section" id="binary">
<h3>3.3.3. binary<a class="headerlink" href="#binary" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.7.1.0)</li>
</ul>
</div>
<div class="section" id="bytestring">
<h3>3.3.4. bytestring<a class="headerlink" href="#bytestring" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.10.4.0)</li>
</ul>
</div>
<div class="section" id="cabal">
<h3>3.3.5. Cabal<a class="headerlink" href="#cabal" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.18.1.3)</li>
</ul>
</div>
<div class="section" id="containers">
<h3>3.3.6. containers<a class="headerlink" href="#containers" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.5.4.0)</li>
</ul>
</div>
<div class="section" id="deepseq">
<h3>3.3.7. deepseq<a class="headerlink" href="#deepseq" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.3.0.2)</li>
</ul>
</div>
<div class="section" id="directory">
<h3>3.3.8. directory<a class="headerlink" href="#directory" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.2.0.2)</li>
</ul>
</div>
<div class="section" id="filepath">
<h3>3.3.9. filepath<a class="headerlink" href="#filepath" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.3.0.2)</li>
</ul>
</div>
<div class="section" id="ghc">
<h3>3.3.10. ghc<a class="headerlink" href="#ghc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>TODO FIXME.</li>
<li>The <code class="docutils literal"><span class="pre">HsBang</span></code> type has been removed in favour of <code class="docutils literal"><span class="pre">HsSrcBang</span></code> and
<code class="docutils literal"><span class="pre">HsImplBang</span></code>. Data constructors now always carry around their
strictness annotations as the user wrote them, whether from an
imported module or not.</li>
<li>Moved <cite>startsVarSym</cite>, <cite>startsVarId</cite>, <cite>startsConSym</cite>, <cite>startsConId</cite>,
<cite>startsVarSymASCII</cite>, and <cite>isVarSymChar</cite> from <cite>Lexeme</cite> to the <cite>GHC.Lemexe</cite>
module of the <cite>ghc-boot</cite> library.</li>
<li>Add <cite>isImport</cite>, <cite>isDecl</cite>, and <cite>isStmt</cite> functions.</li>
</ul>
</div>
<div class="section" id="ghc-boot">
<h3>3.3.11. ghc-boot<a class="headerlink" href="#ghc-boot" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>This is an internal package. Use with caution.</li>
<li>This package was renamed from <cite>bin-package-db</cite> to reflect its new purpose
of containing intra-GHC functionality that needs to be shared across
multiple GHC boot libraries.</li>
<li>Added <cite>GHC.Lexeme</cite>, which contains functions for determining if a
character can be the first letter of a variable or data constructor in
Haskell, as defined by GHC. (These functions were moved from <cite>Lexeme</cite>
in <cite>ghc</cite>.)</li>
</ul>
</div>
<div class="section" id="ghc-prim">
<h3>3.3.12. ghc-prim<a class="headerlink" href="#ghc-prim" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.3.1.0)</li>
</ul>
</div>
<div class="section" id="haskell98">
<h3>3.3.13. haskell98<a class="headerlink" href="#haskell98" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 2.0.0.3)</li>
</ul>
</div>
<div class="section" id="haskell2010">
<h3>3.3.14. haskell2010<a class="headerlink" href="#haskell2010" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.1.1.1)</li>
</ul>
</div>
<div class="section" id="hoopl">
<h3>3.3.15. hoopl<a class="headerlink" href="#hoopl" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 3.10.0.0)</li>
</ul>
</div>
<div class="section" id="hpc">
<h3>3.3.16. hpc<a class="headerlink" href="#hpc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.6.0.1)</li>
</ul>
</div>
<div class="section" id="integer-gmp">
<h3>3.3.17. integer-gmp<a class="headerlink" href="#integer-gmp" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 0.5.1.0)</li>
</ul>
</div>
<div class="section" id="old-locale">
<h3>3.3.18. old-locale<a class="headerlink" href="#old-locale" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.0.0.6)</li>
</ul>
</div>
<div class="section" id="old-time">
<h3>3.3.19. old-time<a class="headerlink" href="#old-time" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.1.0.2)</li>
</ul>
</div>
<div class="section" id="process">
<h3>3.3.20. process<a class="headerlink" href="#process" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.2.0.0)</li>
</ul>
</div>
<div class="section" id="id1">
<h3>3.3.21. template-haskell<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 2.9.0.0)</li>
<li>The <code class="docutils literal"><span class="pre">Lift</span></code> type class for lifting values into Template Haskell
splices now has a default signature <code class="docutils literal"><span class="pre">lift</span> <span class="pre">::</span> <span class="pre">Data</span> <span class="pre">a</span> <span class="pre">=&gt;</span> <span class="pre">a</span> <span class="pre">-&gt;</span> <span class="pre">Q</span> <span class="pre">Exp</span></code>,
which means that you do not have to provide an explicit
implementation of <code class="docutils literal"><span class="pre">lift</span></code> for types which have a <code class="docutils literal"><span class="pre">Data</span></code> instance.
To manually use this default implementation, you can use the
<code class="docutils literal"><span class="pre">liftData</span></code> function which is now exported from
<code class="docutils literal"><span class="pre">Language.Haskell.TH.Syntax</span></code>.</li>
<li><code class="docutils literal"><span class="pre">Info</span></code>&#8216;s constructors no longer have <code class="docutils literal"><span class="pre">Fixity</span></code> fields. A
<code class="docutils literal"><span class="pre">qReifyFixity</span></code> function was added to the <code class="docutils literal"><span class="pre">Quasi</span></code> type class (as
well as the <code class="docutils literal"><span class="pre">reifyFixity</span></code> function, specialized for <code class="docutils literal"><span class="pre">Q</span></code>) to allow
lookup of fixity information for any given <code class="docutils literal"><span class="pre">Name</span></code>.</li>
</ul>
</div>
<div class="section" id="time">
<h3>3.3.22. time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 1.4.1)</li>
</ul>
</div>
<div class="section" id="unix">
<h3>3.3.23. unix<a class="headerlink" href="#unix" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 2.7.0.0)</li>
</ul>
</div>
<div class="section" id="win32">
<h3>3.3.24. Win32<a class="headerlink" href="#win32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Version number XXXXX (was 2.3.0.1)</li>
</ul>
</div>
</div>
<div class="section" id="known-bugs">
<h2>3.4. Known bugs<a class="headerlink" href="#known-bugs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>TODO FIXME</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ghci.html" title="4. Using GHCi"
             >next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="2. Introduction to GHC"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GHC 7.11.20151211 Users Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, GHC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>