<a href="Class.hs823378840143542612.out.html">prev</a></br><a href="failures.html">home</a></br><a href="CodeGen.hs12648177091998097157.out.html">next</a></br></br><pre>1d0
< #!/usr/bin/env runghc
2a2
> 
21a22
> 
</pre></br><h2>original</h2></br><pre>#!/usr/bin/env runghc

module Main where

import Options.Applicative
import Control.Monad.Trans (MonadIO(liftIO))
import Language.Haskell.Modules (cleanImports, runCleanT)
import System.Directory (getDirectoryContents)
import System.Environment (getArgs)
import System.FilePath (takeExtension)

main = do
  args <- getArgs
  fs <- if null args then sourceFiles "." else return args
  cs <- runCleanT $ mapM cleanImports' fs
  print cs

cleanImports' fp = do (liftIO $ putStr "cleaning: " >> print fp) >> cleanImports fp

sourceFiles :: FilePath -> IO [FilePath]
sourceFiles fp = getDirectoryContents fp >>= return . filter ((".hs" ==) . takeExtension)
</pre></br><h2>printed</h2></br><pre>

module Main where

import Options.Applicative
import Control.Monad.Trans (MonadIO(liftIO))
import Language.Haskell.Modules (cleanImports, runCleanT)
import System.Directory (getDirectoryContents)
import System.Environment (getArgs)
import System.FilePath (takeExtension)

main = do
  args <- getArgs
  fs <- if null args then sourceFiles "." else return args
  cs <- runCleanT $ mapM cleanImports' fs
  print cs

cleanImports' fp = do (liftIO $ putStr "cleaning: " >> print fp) >> cleanImports fp

sourceFiles :: FilePath -> IO [FilePath]
sourceFiles fp = getDirectoryContents fp >>= return . filter ((".hs" ==) . takeExtension)

</pre>