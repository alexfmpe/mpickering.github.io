<a href="Definitions.hs14594134961951894885.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Defix.hs11187532291666190318.out.html">next</a></br></br><pre>26c26
< cli name main = getArgs >>= \a -> let ?progName = name ; ?cliargs = a in main
---
> cli name main = getArgs >>= \a -> let                    ?cliargs = a = name ;              in main
26a27
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE ImplicitParams #-}
module Definitive (
  module Definitive.Base,
  module Data.Containers,
  module Data.Containers.Sequence,
  trace,trace2,mtrace,debug,

  cli
  ) where

import Definitive.Base
import System.Environment (getArgs)
import Data.Containers
import Data.Containers.Sequence

trace :: String -> a -> a
trace s x = (putStrLn s^.thunk)`seq`x
trace2 :: String -> String -> a -> a
trace2 b a x = trace b (x`seq`trace a x)
mtrace :: Unit f => String -> f ()
mtrace str = trace str (pure ())
debug :: Show a => a -> a
debug x = trace (show x) x

cli :: String -> (( ?cliargs :: [String], ?progName :: String ) => IO a) -> IO a
cli name main = getArgs >>= \a -> let ?progName = name ; ?cliargs = a in main
</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE ImplicitParams #-}
module Definitive (
  module Definitive.Base,
  module Data.Containers,
  module Data.Containers.Sequence,
  trace,trace2,mtrace,debug,

  cli
  ) where

import Definitive.Base
import System.Environment (getArgs)
import Data.Containers
import Data.Containers.Sequence

trace :: String -> a -> a
trace s x = (putStrLn s^.thunk)`seq`x
trace2 :: String -> String -> a -> a
trace2 b a x = trace b (x`seq`trace a x)
mtrace :: Unit f => String -> f ()
mtrace str = trace str (pure ())
debug :: Show a => a -> a
debug x = trace (show x) x

cli :: String -> (( ?cliargs :: [String], ?progName :: String ) => IO a) -> IO a
cli name main = getArgs >>= \a -> let                    ?cliargs = a = name ;              in main

</pre>