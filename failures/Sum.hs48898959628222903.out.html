<a href="Sum.hs1895928381505945281.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Sum.hs934997571639869942.out.html">next</a></br></br><pre>14d13
< data instance Sum '[]
15d13
< data instance Sum (a ': as) = Head a | Tail (Sum as)
16c14
< instance Show (Sum '[]) where
---
> data instance Sum 
16a15
> data instance Sum (a  : as) = Head a | Tail (Sum as)
16a16
> instance Show (Sum    ) where
18c18
< instance (Show a, Show (Sum as)) => Show (Sum (a ': as)) where
---
> instance (Show a, Show (Sum as)) => Show (Sum (a  : as)) where
20a21
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE Safe,
    TypeOperators, BangPatterns,
    DataKinds,
    TypeFamilies,
    FlexibleContexts, FlexibleInstances #-}

module Type.BST.Sum (
    -- * Sum
    Sum(Head, Tail)
  ) where

-- | Dependently-typed sum.
data family Sum (as :: [*])
data instance Sum '[]
data instance Sum (a ': as) = Head a | Tail (Sum as)
instance Show (Sum '[]) where
  show !_ = undefined
instance (Show a, Show (Sum as)) => Show (Sum (a ': as)) where
  showsPrec p (Head x) = showParen (p > 10) $ showString "<Sum> " . showsPrec 11 x
  showsPrec p (Tail s) = showsPrec p s
</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE Safe,
    TypeOperators, BangPatterns,
    DataKinds,
    TypeFamilies,
    FlexibleContexts, FlexibleInstances #-}

module Type.BST.Sum (
    -- * Sum
    Sum(Head, Tail)
  ) where

-- | Dependently-typed sum.
data family Sum (as :: [*])
data instance Sum 
data instance Sum (a  : as) = Head a | Tail (Sum as)
instance Show (Sum    ) where
  show !_ = undefined
instance (Show a, Show (Sum as)) => Show (Sum (a  : as)) where
  showsPrec p (Head x) = showParen (p > 10) $ showString "<Sum> " . showsPrec 11 x
  showsPrec p (Tail s) = showsPrec p s

</pre>