<a href="Miniball.hs1597951661343077045.out.html">prev</a></br><a href="failures.html">home</a></br><a href="mkReadme.hs2683171582038299453.out.html">next</a></br></br><pre>20c20
<   {-# MINIMAL (foo, bar) | (bar, bat) | (foo, bat) | fooBarBat #-}
---
>   {-# MINIMAL  foo, bar        ,  bar  bat               foo  bat                           fooBarBat                        #-}
31c31
<   {-# MINIMAL ((a, b), c | (d | (e, (f | g)))) #-}
---
>   {-# MINIMAL   a    , , c |  d       e   f               g                #-}
53a54
> 
</pre></br><h2>original</h2></br><pre>-- | This tests the new MINIMAL pragma present in GHC 7.8
module Minimal
  ( Foo(..)
  , Weird(..)
  , NoMins(..)
  , FullMin(..)
  , PartialMin(ccc)
  , EmptyMin(..)
  ) where

class Foo a where
  -- | Any two of these are required...
  foo :: a
  bar :: a
  bat :: a

  -- | .. or just this
  fooBarBat :: (a,a,a)

  {-# MINIMAL (foo, bar) | (bar, bat) | (foo, bat) | fooBarBat #-}

class Weird a where
  a :: a
  b :: a
  c :: a
  d :: a
  e :: a
  f :: a
  g :: a

  {-# MINIMAL ((a, b), c | (d | (e, (f | g)))) #-}

class NoMins a where
  x :: a
  y :: a
  z :: a

  -- | Has a default implementation!
  z = x

class FullMin a where
  aaa :: a
  bbb :: a

class PartialMin a where
  ccc :: a
  ddd :: a

class EmptyMin a where
  eee :: a
  fff :: a
  eee = fff
  fff = undefined
</pre></br><h2>printed</h2></br><pre>-- | This tests the new MINIMAL pragma present in GHC 7.8
module Minimal
  ( Foo(..)
  , Weird(..)
  , NoMins(..)
  , FullMin(..)
  , PartialMin(ccc)
  , EmptyMin(..)
  ) where

class Foo a where
  -- | Any two of these are required...
  foo :: a
  bar :: a
  bat :: a

  -- | .. or just this
  fooBarBat :: (a,a,a)

  {-# MINIMAL  foo, bar        ,  bar  bat               foo  bat                           fooBarBat                        #-}

class Weird a where
  a :: a
  b :: a
  c :: a
  d :: a
  e :: a
  f :: a
  g :: a

  {-# MINIMAL   a    , , c |  d       e   f               g                #-}

class NoMins a where
  x :: a
  y :: a
  z :: a

  -- | Has a default implementation!
  z = x

class FullMin a where
  aaa :: a
  bbb :: a

class PartialMin a where
  ccc :: a
  ddd :: a

class EmptyMin a where
  eee :: a
  fff :: a
  eee = fff
  fff = undefined

</pre>