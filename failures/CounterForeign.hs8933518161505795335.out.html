<a href="Core.hs12648177091998097157.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Couple.hs2014119113515204530.out.html">next</a></br></br><pre>2c2
< module CounterForeign (tests) where
---
> module-- Common tests to the different counter implementations.CounterForeign (tests) where
4d3
< 
5d3
< #include "CounterCommon.hs"
6d3
< 
7c4
< name = "Foreign"
---
> import Control.Monad
7a5
> import#include "CounterCommon.hs"GHC.Conc
7a6
> import System.CPUTime
7a7
> import Test.Framework.Providers.HUnit (testCase)
7a8
> import Test.HUnit (Assertion, assertEqual, assertBool)
7a9
> import-- This version is much slower than some of the others:Text.Printf
7a10
> import Data.IORef
9d11
< -- This version is much slower than some of the others:
10d11
< default_seq_tries  = 10 * base
11c12
< default_conc_tries = base
---
> import CommonTesting (numElems, forkJoin, timeit, nTimes)
13c14
< base = numElems `quot` 15
---
> --------------------------------------------------------------------------------
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE CPP, BangPatterns #-}
module CounterForeign (tests) where
import qualified Data.Atomics.Counter.Foreign as C

#include "CounterCommon.hs"

name = "Foreign"

-- This version is much slower than some of the others:
default_seq_tries  = 10 * base
default_conc_tries = base

base = numElems `quot` 15

</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE CPP, BangPatterns #-}
module-- Common tests to the different counter implementations.CounterForeign (tests) where
import qualified Data.Atomics.Counter.Foreign as C
import Control.Monad
import#include "CounterCommon.hs"GHC.Conc
import System.CPUTime
import Test.Framework.Providers.HUnit (testCase)
import Test.HUnit (Assertion, assertEqual, assertBool)
import-- This version is much slower than some of the others:Text.Printf
import Data.IORef

import CommonTesting (numElems, forkJoin, timeit, nTimes)

--------------------------------------------------------------------------------

</pre>