<a href="Stream.hs14587779232007237709.out.html">prev</a></br><a href="failures.html">home</a></br><a href="StreamVsList.hs270649095428975319.out.html">next</a></br></br><pre>17c17
<     streamSampleRate ∷ s pr → Int
---
>     streamSampleRate :: s pr -> Int
20d19
< class Stream rs ⇒ ReadableStream rs dvec where
21c20
<     readFrames ∷ ( AncestorRegion pr cr
---
> class Stream rs => ReadableStream rs dvec where
21a21
>     readFrames :: ( AncestorRegion pr cr
24d23
<                ⇒ rs pr
25d23
<                → Int     -- ^ number of frames to read
26c24
<                → cr dvec -- ^ frames in deinterleaved vectors
---
>                => rs pr
26a25
>                -> Int     -- ^ number of frames to read
26a26
>                -> cr dvec -- ^ frames in deinterleaved vectors
29d28
< class Stream ws ⇒ WritableStream ws dvec where
30c29
<     writeFrames ∷ ( AncestorRegion pr cr
---
> class Stream ws => WritableStream ws dvec where
30a30
>     writeFrames :: ( AncestorRegion pr cr
33d32
<                 ⇒ ws pr
34d32
<                 → dvec  -- ^ frames in deinterleaved vectors
35c33
<                 → cr ()
---
>                 => ws pr
35a34
>                 -> dvec  -- ^ frames in deinterleaved vectors
35a35
>                 -> cr ()
35a36
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE
    UnicodeSyntax
  , MultiParamTypeClasses
  #-}
-- | EsounD stream I/O
module Sound.EsounD.Streams
    ( Stream(..)
    , ReadableStream(..)
    , WritableStream(..)
    )
    where
import Control.Monad.IO.Class
import Control.Monad.Trans.Region

-- | ESD streams.
class Stream s where
    streamSampleRate ∷ s pr → Int

-- | ESD streams which behave as sources.
class Stream rs ⇒ ReadableStream rs dvec where
    readFrames ∷ ( AncestorRegion pr cr
                  , MonadIO cr
                  )
               ⇒ rs pr
               → Int     -- ^ number of frames to read
               → cr dvec -- ^ frames in deinterleaved vectors

-- | ESD streams which behave as sinks.
class Stream ws ⇒ WritableStream ws dvec where
    writeFrames ∷ ( AncestorRegion pr cr
                   , MonadIO cr
                   )
                ⇒ ws pr
                → dvec  -- ^ frames in deinterleaved vectors
                → cr ()
</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE
    UnicodeSyntax
  , MultiParamTypeClasses
  #-}
-- | EsounD stream I/O
module Sound.EsounD.Streams
    ( Stream(..)
    , ReadableStream(..)
    , WritableStream(..)
    )
    where
import Control.Monad.IO.Class
import Control.Monad.Trans.Region

-- | ESD streams.
class Stream s where
    streamSampleRate :: s pr -> Int

-- | ESD streams which behave as sources.
class Stream rs => ReadableStream rs dvec where
    readFrames :: ( AncestorRegion pr cr
                  , MonadIO cr
                  )
               => rs pr
               -> Int     -- ^ number of frames to read
               -> cr dvec -- ^ frames in deinterleaved vectors

-- | ESD streams which behave as sinks.
class Stream ws => WritableStream ws dvec where
    writeFrames :: ( AncestorRegion pr cr
                   , MonadIO cr
                   )
                => ws pr
                -> dvec  -- ^ frames in deinterleaved vectors
                -> cr ()

</pre>