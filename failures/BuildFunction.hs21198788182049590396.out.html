<a href="build.hs14795752441507977295.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Builtin.hs1828087692621301815.out.html">next</a></br></br><pre>10c10
< {-# LINE 29 "src/ehc/EHC/BuildFunction.chs" #-}
---
> 
10a11
> 
10a12
> 
10a13
> 
10a14
> 
10a15
> 
10a16
> 
10a17
> 
10a18
> 
10a19
> 
10a20
> 
10a21
> 
10a22
> 
10a23
> 
10a24
> 
10a25
> 
10a26
> 
10a27
> 
10a28
> 
48a67
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE GADTs #-}

module UHC.Light.Compiler.EHC.BuildFunction
( BFun (..) )
where
import UHC.Light.Compiler.EHC.Common
import UHC.Light.Compiler.EHC.CompileUnit
import Control.Applicative

{-# LINE 29 "src/ehc/EHC/BuildFunction.chs" #-}
-- | Representation of build functions (embedded comment screws up haddock, hence see source code directly)
data BFun res where
  --- | Obtain FPath of an (imported module)
  FPathOfImported
    :: HsName               --- ^ module name
    -> BFun FPath

  --- | Extract imported modules from a module
  ImportsOf
    :: HsName               --- ^ module name
    -> BFun [HsName]

  --- | Extract compileunit from a module
  EcuOf
    :: HsName               --- ^ module name
    -> BFun EHCompileUnit

  --- | Applicative: pure
  Pure
    :: res
    -> BFun res

  --- | Applicative: <*>
  App
    :: BFun (res1 -> res2)
    -> BFun res1
    -> BFun res2

instance Functor BFun where
  fmap f (Pure  x) = Pure (f x)
  fmap f (App g x) = App (fmap (f .) g) x
  fmap _ _         = panic "BuildFuncion.Functor.BFun"

instance Applicative BFun where
  pure  = Pure
  (<*>) = App


</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE GADTs #-}

module UHC.Light.Compiler.EHC.BuildFunction
( BFun (..) )
where
import UHC.Light.Compiler.EHC.Common
import UHC.Light.Compiler.EHC.CompileUnit
import Control.Applicative




















-- | Representation of build functions (embedded comment screws up haddock, hence see source code directly)
data BFun res where
  --- | Obtain FPath of an (imported module)
  FPathOfImported
    :: HsName               --- ^ module name
    -> BFun FPath

  --- | Extract imported modules from a module
  ImportsOf
    :: HsName               --- ^ module name
    -> BFun [HsName]

  --- | Extract compileunit from a module
  EcuOf
    :: HsName               --- ^ module name
    -> BFun EHCompileUnit

  --- | Applicative: pure
  Pure
    :: res
    -> BFun res

  --- | Applicative: <*>
  App
    :: BFun (res1 -> res2)
    -> BFun res1
    -> BFun res2

instance Functor BFun where
  fmap f (Pure  x) = Pure (f x)
  fmap f (App g x) = App (fmap (f .) g) x
  fmap _ _         = panic "BuildFuncion.Functor.BFun"

instance Applicative BFun where
  pure  = Pure
  (<*>) = App



</pre>