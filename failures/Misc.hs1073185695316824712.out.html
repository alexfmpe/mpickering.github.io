<a href="MiniBuffer.hs585640194937186357.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Misc.hs12648177091998097157.out.html">next</a></br></br><pre>13d12
< import "base" Data.Bool ( otherwise )
14d12
< import "base" Data.Ord  ( (<) )
15c13
< import "base" Prelude   ( Integral, (+), (^), div, ($!), error )
---
> import  Data.Bool ( otherwise )
15a14
> import  Data.Ord  ( (<) )
15a15
> import  Prelude   ( Integral, (+), (^), div, ($!), error )
23c23
< dec ∷ (Integral α) ⇒ α → α
---
> dec :: (Integral α) => α -> α
27c27
< intLog ∷ (Integral α) ⇒ α → α
---
> intLog :: (Integral α) => α -> α
32d31
<                    0 → acc
33d31
<                    1 → acc + 1
34c32
<                    q → go q $! acc + 1
---
>                    0 -> acc
34a33
>                    1 -> acc + 1
34a34
>                    q -> go q $! acc + 1
37a38
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE NoImplicitPrelude
           , OverloadedStrings
           , PackageImports
           , UnicodeSyntax
  #-}

module Text.Numeral.Misc where

--------------------------------------------------------------------------------
-- Imports
--------------------------------------------------------------------------------

import "base" Data.Bool ( otherwise )
import "base" Data.Ord  ( (<) )
import "base" Prelude   ( Integral, (+), (^), div, ($!), error )


--------------------------------------------------------------------------------
-- Misc
--------------------------------------------------------------------------------

-- ^ Raise 10 to some power.
dec ∷ (Integral α) ⇒ α → α
dec = (10 ^)

-- ^ The (base 10) logarithm of an integral value.
intLog ∷ (Integral α) ⇒ α → α
intLog x | x < 0 = error "intLog: undefined for negative numbers"
         | otherwise = go x 0
    where
      go n acc = case n `div` 10 of
                   0 → acc
                   1 → acc + 1
                   q → go q $! acc + 1

-- prop_intLog e = intLog (10^e) ≡ e

</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE NoImplicitPrelude
           , OverloadedStrings
           , PackageImports
           , UnicodeSyntax
  #-}

module Text.Numeral.Misc where

--------------------------------------------------------------------------------
-- Imports
--------------------------------------------------------------------------------

import  Data.Bool ( otherwise )
import  Data.Ord  ( (<) )
import  Prelude   ( Integral, (+), (^), div, ($!), error )


--------------------------------------------------------------------------------
-- Misc
--------------------------------------------------------------------------------

-- ^ Raise 10 to some power.
dec :: (Integral α) => α -> α
dec = (10 ^)

-- ^ The (base 10) logarithm of an integral value.
intLog :: (Integral α) => α -> α
intLog x | x < 0 = error "intLog: undefined for negative numbers"
         | otherwise = go x 0
    where
      go n acc = case n `div` 10 of
                   0 -> acc
                   1 -> acc + 1
                   q -> go q $! acc + 1

-- prop_intLog e = intLog (10^e) ≡ e


</pre>