<a href="StartServer.hs609352381936329094.out.html">prev</a></br><a href="failures.html">home</a></br><a href="State.hs15519013931617819336.out.html">next</a></br></br><pre>11c11
< import "mtl" Control.Monad.State
---
> import  Control.Monad.State
22a23
> 
</pre></br><h2>original</h2></br><pre>{-
Copyright (c) 2010-2011, Alexander Bogdanov <andorn@gmail.com>
License: MIT
-}

{-# LANGUAGE PackageImports, TypeSynonymInstances, FlexibleInstances #-}
-- | This module is mainly an example of posible 'WithRedis'
-- implementation
module Database.Redis.Monad.State where

import "mtl" Control.Monad.State
import Database.Redis.Monad (WithRedis(..), Redis)

-- | Trivial WithRedis instance storing Redis descriptor in StateT
type RedisM = StateT Redis IO

instance WithRedis RedisM where
    getRedis = get
    setRedis = put

runWithRedis :: Redis -> (RedisM a) -> IO a
runWithRedis = flip evalStateT
</pre></br><h2>printed</h2></br><pre>{-
Copyright (c) 2010-2011, Alexander Bogdanov <andorn@gmail.com>
License: MIT
-}

{-# LANGUAGE PackageImports, TypeSynonymInstances, FlexibleInstances #-}
-- | This module is mainly an example of posible 'WithRedis'
-- implementation
module Database.Redis.Monad.State where

import  Control.Monad.State
import Database.Redis.Monad (WithRedis(..), Redis)

-- | Trivial WithRedis instance storing Redis descriptor in StateT
type RedisM = StateT Redis IO

instance WithRedis RedisM where
    getRedis = get
    setRedis = put

runWithRedis :: Redis -> (RedisM a) -> IO a
runWithRedis = flip evalStateT

</pre>