<a href="Utils.hs1532649039166052708.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Utils.hs1860019397426556000.out.html">next</a></br></br><pre>10c10
< {-# LINE 34 "src/ehc/VarMp/Utils.chs" #-}
---
> 
10a11
> 
10a12
> 
10a13
> 
10a14
> 
10a15
> 
10a16
> 
10a17
> 
10a18
> 
10a19
> 
10a20
> 
10a21
> 
10a22
> 
10a23
> 
10a24
> 
10a25
> 
10a26
> 
10a27
> 
10a28
> 
10a29
> 
10a30
> 
10a31
> 
10a32
> 
10a33
> 
27a51
> 
</pre></br><h2>original</h2></br><pre>module UHC.Light.Compiler.VarMp.Utils
( varmpGraphVisit )
where
import UHC.Light.Compiler.Base.Common
import UHC.Light.Compiler.VarMp
import UHC.Light.Compiler.Substitutable
import qualified Data.Set as Set
import qualified Data.Map as Map

{-# LINE 34 "src/ehc/VarMp/Utils.chs" #-}
-- | Filter the base level by traversing as a graph
varmpGraphVisit
  :: VarIdS
     -> VarMp
     -> VarMp
varmpGraphVisit start (VarMp l (m:ms))
  = VarMp l (m':ms)
  where m'
          = graphVisit (\newm m tvar
                         -> case Map.lookup tvar m of
                              Just i -> (Map.insert tvar i newm, varFreeSet i)
                              _      -> (newm,Set.empty)
                       )
                       Set.union
                       Map.empty
                       start m

</pre></br><h2>printed</h2></br><pre>module UHC.Light.Compiler.VarMp.Utils
( varmpGraphVisit )
where
import UHC.Light.Compiler.Base.Common
import UHC.Light.Compiler.VarMp
import UHC.Light.Compiler.Substitutable
import qualified Data.Set as Set
import qualified Data.Map as Map

























-- | Filter the base level by traversing as a graph
varmpGraphVisit
  :: VarIdS
     -> VarMp
     -> VarMp
varmpGraphVisit start (VarMp l (m:ms))
  = VarMp l (m':ms)
  where m'
          = graphVisit (\newm m tvar
                         -> case Map.lookup tvar m of
                              Just i -> (Map.insert tvar i newm, varFreeSet i)
                              _      -> (newm,Set.empty)
                       )
                       Set.union
                       Map.empty
                       start m


</pre>