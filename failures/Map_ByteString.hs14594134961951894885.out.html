<a href="Manager.hs771515668357571490.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Map_Int.hs5371406231848682420.out.html">next</a></br></br><pre>6d5
< import qualified InputData.ByteString
7c6
< #include "../Driver.inc.hs"
---
> import qualified InputData.ByteString Criterion.Main (bench, defaultMain, whnf)
7a7
> import System.Environment (getArgs, withArgs)
9c9
< #include "../Benchmark/Map-like.inc.hs"
---
> bench_criterion benchs =
9a10
>   defaultMain $ map (\(name, method, input) -> bench name (whnf method input)) benchs
11d11
< benchmark = do
12d11
<   strlenarg : args <- getArgs
13d11
<   let strlen = read strlenarg
14c12
<   withArgs args $ driver (InputData.ByteString.asc strlen) (InputData.ByteString.rnd strlen)
---
> bench_raw#include "../Driver.inc.hs" = do
14a13
>   bencharg : numreparg : _ <- getArgs
14a14
> #include "../Benchmark/Map-like.inc.hs" [(_, method, input)] = filter (\(name, _, _) -> name == bencharg) benchs
14a15
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE CPP, BangPatterns #-}

module Variants.Map_ByteString ( benchmark ) where

import qualified Container.Map as C
import qualified InputData.ByteString
#include "../Driver.inc.hs"

#include "../Benchmark/Map-like.inc.hs"

benchmark = do
  strlenarg : args <- getArgs
  let strlen = read strlenarg
  withArgs args $ driver (InputData.ByteString.asc strlen) (InputData.ByteString.rnd strlen)
</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE CPP, BangPatterns #-}

module Variants.Map_ByteString ( benchmark ) where

import qualified Container.Map as C
import qualified InputData.ByteString Criterion.Main (bench, defaultMain, whnf)
import System.Environment (getArgs, withArgs)

bench_criterion benchs =
  defaultMain $ map (\(name, method, input) -> bench name (whnf method input)) benchs

bench_raw#include "../Driver.inc.hs" = do
  bencharg : numreparg : _ <- getArgs
#include "../Benchmark/Map-like.inc.hs" [(_, method, input)] = filter (\(name, _, _) -> name == bencharg) benchs

</pre>