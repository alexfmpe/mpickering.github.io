<a href="CoreToAlgebra.hs14392363852137606534.out.html">prev</a></br><a href="failures.html">home</a></br><a href="Counter.hs1767145035707765235.out.html">next</a></br></br><pre>12c12
< coulombForce ∷ View Position n ⇒ Node -> WithGraph n Force
---
> coulombForce :: View Position n => Node -> WithGraph n Force
14d13
<     n ← examine position <$> readNode node
15d13
<     ns ← fmap (map $ examine position) (mapM readNode =<< readNodeList)
16c14
<     return $ fsum [repulsion n' n | n' ← ns]
---
>     n <- examine position <$> readNode node
16a15
>     ns <- fmap (map $ examine position) (mapM readNode =<< readNodeList)
16a16
>     return $ fsum [repulsion n' n | n' <- ns]
16a17
> 
</pre></br><h2>original</h2></br><pre>{-# LANGUAGE UnicodeSyntax, FlexibleContexts #-}
module GraphRewriting.Layout.Coulomb where

import Data.View
import Data.Functor
import GraphRewriting.Graph.Types
import GraphRewriting.Graph.Read
import GraphRewriting.Layout.Position
import GraphRewriting.Layout.Force


coulombForce ∷ View Position n ⇒ Node -> WithGraph n Force
coulombForce node = do
    n ← examine position <$> readNode node
    ns ← fmap (map $ examine position) (mapM readNode =<< readNodeList)
    return $ fsum [repulsion n' n | n' ← ns]
</pre></br><h2>printed</h2></br><pre>{-# LANGUAGE UnicodeSyntax, FlexibleContexts #-}
module GraphRewriting.Layout.Coulomb where

import Data.View
import Data.Functor
import GraphRewriting.Graph.Types
import GraphRewriting.Graph.Read
import GraphRewriting.Layout.Position
import GraphRewriting.Layout.Force


coulombForce :: View Position n => Node -> WithGraph n Force
coulombForce node = do
    n <- examine position <$> readNode node
    ns <- fmap (map $ examine position) (mapM readNode =<< readNodeList)
    return $ fsum [repulsion n' n | n' <- ns]

</pre>